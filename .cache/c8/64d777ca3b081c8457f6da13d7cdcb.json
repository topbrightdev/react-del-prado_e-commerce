{"id":"../node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","dependencies":[{"name":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/package.json","includedInParent":true,"mtime":1594655165833},{"name":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/package.json","includedInParent":true,"mtime":1594578778153},{"name":"@webassemblyjs/wasm-parser","loc":{"line":1,"column":23},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-parser/esm/index.js"},{"name":"@webassemblyjs/ast","loc":{"line":2,"column":25},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/ast/esm/index.js"},{"name":"@webassemblyjs/ast/lib/clone","loc":{"line":3,"column":26},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/ast/lib/clone.js"},{"name":"@webassemblyjs/wasm-opt","loc":{"line":4,"column":35},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-opt/esm/index.js"},{"name":"@webassemblyjs/helper-wasm-bytecode","loc":{"line":6,"column":22},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/helper-wasm-bytecode/esm/index.js"},{"name":"./apply","loc":{"line":7,"column":32},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/index.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/webpack/node_modules/@webassemblyjs/wasm-edit/esm/apply.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.edit = edit;\nexports.editWithAST = editWithAST;\nexports.add = add;\nexports.addWithAST = addWithAST;\n\nvar _wasmParser = require(\"@webassemblyjs/wasm-parser\");\n\nvar _ast = require(\"@webassemblyjs/ast\");\n\nvar _clone = require(\"@webassemblyjs/ast/lib/clone\");\n\nvar _wasmOpt = require(\"@webassemblyjs/wasm-opt\");\n\nvar _helperWasmBytecode = _interopRequireWildcard(require(\"@webassemblyjs/helper-wasm-bytecode\"));\n\nvar _apply = require(\"./apply\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction hashNode(node) {\n  return JSON.stringify(node);\n}\n\nfunction preprocess(ab) {\n  var optBin = (0, _wasmOpt.shrinkPaddedLEB128)(new Uint8Array(ab));\n  return optBin.buffer;\n}\n\nfunction sortBySectionOrder(nodes) {\n  var originalOrder = new Map();\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _node = _step.value;\n      originalOrder.set(_node, originalOrder.size);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  nodes.sort(function (a, b) {\n    var sectionA = (0, _helperWasmBytecode.getSectionForNode)(a);\n    var sectionB = (0, _helperWasmBytecode.getSectionForNode)(b);\n    var aId = _helperWasmBytecode.default.sections[sectionA];\n    var bId = _helperWasmBytecode.default.sections[sectionB];\n\n    if (typeof aId !== \"number\" || typeof bId !== \"number\") {\n      throw new Error(\"Section id not found\");\n    }\n\n    if (aId === bId) {\n      // $FlowIgnore originalOrder is filled for all nodes\n      return originalOrder.get(a) - originalOrder.get(b);\n    }\n\n    return aId - bId;\n  });\n}\n\nfunction edit(ab, visitors) {\n  ab = preprocess(ab);\n  var ast = (0, _wasmParser.decode)(ab);\n  return editWithAST(ast, ab, visitors);\n}\n\nfunction editWithAST(ast, ab, visitors) {\n  var operations = [];\n  var uint8Buffer = new Uint8Array(ab);\n  var nodeBefore;\n\n  function before(type, path) {\n    nodeBefore = (0, _clone.cloneNode)(path.node);\n  }\n\n  function after(type, path) {\n    if (path.node._deleted === true) {\n      operations.push({\n        kind: \"delete\",\n        node: path.node\n      }); // $FlowIgnore\n    } else if (hashNode(nodeBefore) !== hashNode(path.node)) {\n      operations.push({\n        kind: \"update\",\n        oldNode: nodeBefore,\n        node: path.node\n      });\n    }\n  }\n\n  (0, _ast.traverse)(ast, visitors, before, after);\n  uint8Buffer = (0, _apply.applyOperations)(ast, uint8Buffer, operations);\n  return uint8Buffer.buffer;\n}\n\nfunction add(ab, newNodes) {\n  ab = preprocess(ab);\n  var ast = (0, _wasmParser.decode)(ab);\n  return addWithAST(ast, ab, newNodes);\n}\n\nfunction addWithAST(ast, ab, newNodes) {\n  // Sort nodes by insertion order\n  sortBySectionOrder(newNodes);\n  var uint8Buffer = new Uint8Array(ab); // Map node into operations\n\n  var operations = newNodes.map(function (n) {\n    return {\n      kind: \"add\",\n      node: n\n    };\n  });\n  uint8Buffer = (0, _apply.applyOperations)(ast, uint8Buffer, operations);\n  return uint8Buffer.buffer;\n}"},"sourceMaps":null,"error":null,"hash":"67b53d97d344b0563721e17b86a4b6b4","cacheData":{"env":{}}}