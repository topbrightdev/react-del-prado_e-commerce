{"id":"../node_modules/react-dev-utils/ModuleScopePlugin.js","dependencies":[{"name":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/package.json","includedInParent":true,"mtime":1594655291184},{"name":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/react-dev-utils/package.json","includedInParent":true,"mtime":1594306881106},{"name":"chalk","loc":{"line":10,"column":22},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/react-dev-utils/ModuleScopePlugin.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/chalk/index.js"},{"name":"path","loc":{"line":11,"column":21},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/react-dev-utils/ModuleScopePlugin.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/path-browserify/index.js"},{"name":"os","loc":{"line":12,"column":19},"parent":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/react-dev-utils/ModuleScopePlugin.js","resolved":"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/os-browserify/browser.js"}],"generated":{"js":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar chalk = require('chalk');\n\nvar path = require('path');\n\nvar os = require('os');\n\nvar ModuleScopePlugin = /*#__PURE__*/function () {\n  function ModuleScopePlugin(appSrc) {\n    var allowedFiles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, ModuleScopePlugin);\n\n    this.appSrcs = Array.isArray(appSrc) ? appSrc : [appSrc];\n    this.allowedFiles = new Set(allowedFiles);\n  }\n\n  _createClass(ModuleScopePlugin, [{\n    key: \"apply\",\n    value: function apply(resolver) {\n      var _this = this;\n\n      var {\n        appSrcs\n      } = this;\n      resolver.hooks.file.tapAsync('ModuleScopePlugin', function (request, contextResolver, callback) {\n        // Unknown issuer, probably webpack internals\n        if (!request.context.issuer) {\n          return callback();\n        }\n\n        if ( // If this resolves to a node_module, we don't care what happens next\n        request.descriptionFileRoot.indexOf('/node_modules/') !== -1 || request.descriptionFileRoot.indexOf('\\\\node_modules\\\\') !== -1 || // Make sure this request was manual\n        !request.__innerRequest_request) {\n          return callback();\n        } // Resolve the issuer from our appSrc and make sure it's one of our files\n        // Maybe an indexOf === 0 would be better?\n\n\n        if (appSrcs.every(function (appSrc) {\n          var relative = path.relative(appSrc, request.context.issuer); // If it's not in one of our app src or a subdirectory, not our request!\n\n          return relative.startsWith('../') || relative.startsWith('..\\\\');\n        })) {\n          return callback();\n        }\n\n        var requestFullPath = path.resolve(path.dirname(request.context.issuer), request.__innerRequest_request);\n\n        if (_this.allowedFiles.has(requestFullPath)) {\n          return callback();\n        } // Find path from src to the requested file\n        // Error if in a parent directory of all given appSrcs\n\n\n        if (appSrcs.every(function (appSrc) {\n          var requestRelative = path.relative(appSrc, requestFullPath);\n          return requestRelative.startsWith('../') || requestRelative.startsWith('..\\\\');\n        })) {\n          var scopeError = new Error(\"You attempted to import \".concat(chalk.cyan(request.__innerRequest_request), \" which falls outside of the project \").concat(chalk.cyan('src/'), \" directory. \") + \"Relative imports outside of \".concat(chalk.cyan('src/'), \" are not supported.\") + os.EOL + \"You can either move it inside \".concat(chalk.cyan('src/'), \", or add a symlink to it from project's \").concat(chalk.cyan('node_modules/'), \".\"));\n          Object.defineProperty(scopeError, '__module_scope_plugin', {\n            value: true,\n            writable: false,\n            enumerable: false\n          });\n          callback(scopeError, request);\n        } else {\n          callback();\n        }\n      });\n    }\n  }]);\n\n  return ModuleScopePlugin;\n}();\n\nmodule.exports = ModuleScopePlugin;"},"sourceMaps":null,"error":null,"hash":"702d616a82d09fab74ff9189d4201689","cacheData":{"env":{}}}