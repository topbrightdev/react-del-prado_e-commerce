{"ast":null,"code":"import _objectSpread from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jarri/Desktop/projects-web/react-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jarri/Desktop/projects-web/react-store/src/api/shop.js\";\nimport React, { Component } from \"react\";\nimport { useContext } from \"react\";\nimport _products from \"./data.json\";\n\nvar wooConfig = require(\"./wooConfig\");\n\nvar WooCommerceAPI = require(\"woocommerce-api\");\n/* category: \"vegetable\"\ndescription: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\"\ndiscount: 10\nid: 49\nname: \"Cabbage\"\nnew: false\npictures: Array(4)\n0: \"/assets/images/vegetables/pro/2.jpg\"\n1: \"/assets/images/vegetables/pro/4.jpg\"\n2: \"/assets/images/vegetables/pro/1.jpg\"\n3: \"/assets/images/vegetables/pro/4.jpg\"\nlength: 4\n__proto__: Array(0)\nprice: 120\nsale: false\nsalePrice: 240\nshortDetails: \"Sed ut perspiciatis, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem,\"\nstock: 2 */\n\n\nvar TIMEOUT = 9000;\nvar __products = null;\n\nfunction _getData(res) {\n  var _this = this;\n\n  console.log(\"get products\");\n  WooCommerce.getAsync(\"products?per_page=30\").then(function (res) {\n    return res.toJSON().body;\n  }).then(function (json) {\n    var data = json;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    var products = [];\n    console.log(items);\n    items.map(function (_ref) {\n      var id = _ref.id,\n          name = _ref.name,\n          images = _ref.images,\n          price = _ref.price,\n          categories = _ref.categories,\n          description = _ref.description,\n          stock_quantity = _ref.stock_quantity,\n          on_sale = _ref.on_sale,\n          sale_price = _ref.sale_price,\n          short_description = _ref.short_description;\n      var img;\n      images.map(function (data) {\n        img = data.src;\n      });\n      var newItemO = {\n        id: id,\n        title: name,\n        img: img,\n        price: parseInt(price),\n        company: \"nurumia\",\n        info: description,\n        inCart: null,\n        count: 1,\n        total: 1,\n        categories: categories,\n        stock: stock_quantity\n      };\n      var newItem = {\n        category: \"vegetable\",\n        description: description,\n        discount: 10,\n        id: id,\n        name: name,\n        new: false,\n        pictures: images,\n        length: images.length,\n        price: price,\n        sale: on_sale,\n        salePrice: sale_price,\n        shortDetails: short_description,\n        stock: stock_quantity\n      };\n      products.push(newItem); // Push the object\n\n      _this.oldProducts = true;\n    });\n    console.log(products);\n    __products = products;\n    return products;\n  });\n}\n\nexport default {\n  //getProducts: (cb, timeout) =>\n  // setTimeout(() => cb(_products), timeout || TIMEOUT),\n  getData: function getData(cb, timeout) {\n    setTimeout(function () {\n      return cb(_getData());\n    }, timeout || TIMEOUT);\n  },\n  getProducts: function getProducts(getData, timeout) {\n    setTimeout(function () {\n      return getData(products);\n    }, timeout || TIMEOUT);\n  },\n  buyProducts: function buyProducts(payload, cb, timeout) {\n    return setTimeout(function () {\n      return cb();\n    }, timeout || TIMEOUT);\n  }\n};\nvar WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\"\n});\nvar ProductContext = React.createContext();\nvar pos = 1;\nvar addresses = [{\n  id: 19,\n  level: 0,\n  position: 0,\n  name: \"Product Categories\"\n}];\nvar cart = [];\nvar length = null;\n\nvar ProductProvider = /*#__PURE__*/function (_Component) {\n  _inherits(ProductProvider, _Component);\n\n  function ProductProvider(props) {\n    var _this2;\n\n    _classCallCheck(this, ProductProvider);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ProductProvider).call(this, props));\n\n    _this2.getList = function (res) {\n      WooCommerce.getAsync(\"products?category=\".concat(res)).then(function (res) {\n        return res.toJSON().body;\n      }).then(function (json) {\n        var data = json;\n        Object.json1 = JSON.parse(data);\n        var items = Object.json1;\n        var products = [];\n        items.map(function (_ref2) {\n          var id = _ref2.id,\n              name = _ref2.name,\n              images = _ref2.images,\n              price = _ref2.price,\n              categories = _ref2.categories,\n              description = _ref2.description,\n              stock_quantity = _ref2.stock_quantity;\n          var img;\n          images.map(function (data) {\n            img = data.src;\n          });\n          var newItem = {\n            id: id,\n            title: name,\n            img: img,\n            price: parseInt(price),\n            company: \"nurumia\",\n            info: description,\n            inCart: null,\n            count: 1,\n            total: 1,\n            categories: categories,\n            stock: stock_quantity\n          };\n          products.push(newItem); // Push the object\n\n          _this2.oldProducts = true;\n        });\n\n        _this2.setState(_objectSpread({}, {\n          isListLoaded: true,\n          products: products\n        }));\n      });\n    };\n\n    _this2.getSales2 = function () {\n      WooCommerce.getAsync(\"products?on_sale=true\").then(function (res) {\n        return res.toJSON().body;\n      }).then(function (json) {\n        var data = json;\n        Object.json1 = JSON.parse(data);\n        var items = Object.json1;\n        var sales = [];\n        items.map(function (_ref3) {\n          var id = _ref3.id,\n              name = _ref3.name,\n              images = _ref3.images,\n              sale_price = _ref3.sale_price,\n              categories = _ref3.categories,\n              description = _ref3.description;\n          var img;\n          images.map(function (data) {\n            img = data.src;\n          });\n          var newItem = {\n            id: id,\n            title: name,\n            img: img,\n            price: parseInt(sale_price),\n            company: \"nurumia\",\n            info: description,\n            inCart: false,\n            count: 1,\n            total: 1,\n            categories: categories\n          };\n          sales.push(newItem); // Push the object\n        });\n\n        _this2.setState(_objectSpread({}, {\n          sales: sales\n        }));\n      });\n    };\n\n    _this2.getCategories = function (parent, level) {\n      return WooCommerce.getAsync(\"products/categories?hide_empty=false&per_page=30\".concat(parent)).then(function (res) {\n        if (res) {\n          var data = res.toJSON().body; // console.log(data)\n\n          Object.json1 = JSON.parse(data);\n          var items = Object.json1;\n          var categories = [];\n\n          if (items[0]) {\n            if (items[0].id != undefined) {\n              pos = 0;\n              items.map(function (_ref4) {\n                var id = _ref4.id,\n                    name = _ref4.name,\n                    parent = _ref4.parent;\n                var newCategory = {\n                  id: id,\n                  name: name,\n                  parent: parent,\n                  children: []\n                };\n                var addr = {\n                  id: id,\n                  level: level,\n                  position: pos,\n                  name: name\n                };\n                addresses.push(addr);\n                categories.push(newCategory); // Push the object\n\n                pos++;\n              });\n              return categories;\n            }\n          }\n        }\n      });\n    };\n\n    _this2.state = {\n      products: [],\n      sales: [],\n      tree: [],\n      tree2: [],\n      imageClicked: null,\n      categoryClicked: null,\n      detailProduct: null,\n      cart: [],\n      // preCart: [],\n      modalOpen: false,\n      modalProduct: null,\n      cartSubTotal: 0,\n      cartTax: 0,\n      cartTotal: 0,\n      isListLoaded: false,\n      isTreeLoaded: false,\n      isMenuLoaded: false\n    };\n    _this2.imageClick = _this2.imageClick.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    _this2.categoryClick = _this2.categoryClick.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(ProductProvider, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(\"Will mount\"); // this.createTree();\n      // this.getSales();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//  this.getList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isTreeLoaded !== true) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(ProductContext.Provider, {\n          value: _objectSpread({}, this.state),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 11\n          }\n        }, \" \", this.props.children, \" \"), \" \");\n      }\n    }\n  }]);\n\n  return ProductProvider;\n}(Component);\n\nvar ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };\nexport function useProduct() {\n  return useContext(ProductContext);\n}","map":{"version":3,"sources":["/home/jarri/Desktop/projects-web/react-store/src/api/shop.js"],"names":["React","Component","useContext","_products","wooConfig","require","WooCommerceAPI","TIMEOUT","__products","getData","res","console","log","WooCommerce","getAsync","then","toJSON","body","json","data","Object","json1","JSON","parse","items","products","map","id","name","images","price","categories","description","stock_quantity","on_sale","sale_price","short_description","img","src","newItemO","title","parseInt","company","info","inCart","count","total","stock","newItem","category","discount","new","pictures","length","sale","salePrice","shortDetails","push","oldProducts","cb","timeout","setTimeout","getProducts","buyProducts","payload","url","siteUrl","consumerKey","consumerSecret","wpAPI","version","ProductContext","createContext","pos","addresses","level","position","cart","ProductProvider","props","getList","setState","isListLoaded","getSales2","sales","getCategories","parent","undefined","newCategory","children","addr","state","tree","tree2","imageClicked","categoryClicked","detailProduct","modalOpen","modalProduct","cartSubTotal","cartTax","cartTotal","isTreeLoaded","isMenuLoaded","imageClick","bind","categoryClick","ProductConsumer","Consumer","useProduct"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { useContext } from \"react\";\nimport _products from \"./data.json\";\n\nconst wooConfig = require(\"./wooConfig\");\nconst WooCommerceAPI = require(\"woocommerce-api\");\n\n/* category: \"vegetable\"\ndescription: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\"\ndiscount: 10\nid: 49\nname: \"Cabbage\"\nnew: false\npictures: Array(4)\n0: \"/assets/images/vegetables/pro/2.jpg\"\n1: \"/assets/images/vegetables/pro/4.jpg\"\n2: \"/assets/images/vegetables/pro/1.jpg\"\n3: \"/assets/images/vegetables/pro/4.jpg\"\nlength: 4\n__proto__: Array(0)\nprice: 120\nsale: false\nsalePrice: 240\nshortDetails: \"Sed ut perspiciatis, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem,\"\nstock: 2 */\n\nconst TIMEOUT = 9000;\nvar __products = null;\n\nfunction getData(res) {\n  console.log(\"get products\");\n  WooCommerce.getAsync(`products?per_page=30`)\n    .then((res) => res.toJSON().body)\n    .then((json) => {\n      var data = json;\n      Object.json1 = JSON.parse(data);\n      var items = Object.json1;\n      var products = [];\n      console.log(items);\n      items.map(\n        ({\n          id,\n          name,\n          images,\n          price,\n          categories,\n          description,\n          stock_quantity,\n          on_sale,\n          sale_price,\n          short_description,\n        }) => {\n          var img;\n          images.map((data) => {\n            img = data.src;\n          });\n\n          const newItemO = {\n            id: id,\n            title: name,\n            img: img,\n            price: parseInt(price),\n            company: \"nurumia\",\n            info: description,\n            inCart: null,\n            count: 1,\n            total: 1,\n            categories: categories,\n            stock: stock_quantity,\n          };\n\n          const newItem = {\n            category: \"vegetable\",\n            description: description,\n            discount: 10,\n            id: id,\n            name: name,\n            new: false,\n            pictures: images,\n            length: images.length,\n            price: price,\n            sale: on_sale,\n            salePrice: sale_price,\n            shortDetails: short_description,\n            stock: stock_quantity,\n          };\n\n          products.push(newItem); // Push the object\n          this.oldProducts = true;\n        }\n      );\n      console.log(products);\n      __products = products;\n      return products;\n    });\n}\n\nexport default {\n  //getProducts: (cb, timeout) =>\n  // setTimeout(() => cb(_products), timeout || TIMEOUT),\n  getData: (cb, timeout) => {\n    setTimeout(() => cb(getData()), timeout || TIMEOUT);\n  },\n  getProducts: (getData, timeout) => {\n    setTimeout(() => getData(products), timeout || TIMEOUT);\n  },\n  buyProducts: (payload, cb, timeout) =>\n    setTimeout(() => cb(), timeout || TIMEOUT),\n};\n\nconst WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\",\n});\n\nconst ProductContext = React.createContext();\n\nvar pos = 1;\n\nvar addresses = [\n  {\n    id: 19,\n    level: 0,\n    position: 0,\n    name: \"Product Categories\",\n  },\n];\nvar cart = [];\nvar length = null;\n\nclass ProductProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      sales: [],\n      tree: [],\n      tree2: [],\n      imageClicked: null,\n      categoryClicked: null,\n      detailProduct: null,\n      cart: [],\n      // preCart: [],\n      modalOpen: false,\n      modalProduct: null,\n      cartSubTotal: 0,\n      cartTax: 0,\n      cartTotal: 0,\n      isListLoaded: false,\n      isTreeLoaded: false,\n      isMenuLoaded: false,\n    };\n    this.imageClick = this.imageClick.bind(this);\n    this.categoryClick = this.categoryClick.bind(this);\n  }\n\n  componentWillMount() {\n    console.log(\"Will mount\");\n    // this.createTree();\n    // this.getSales();\n  }\n\n  componentDidMount() {\n    //  this.getList();\n  }\n\n  getList = (res) => {\n    WooCommerce.getAsync(`products?category=${res}`)\n      .then((res) => res.toJSON().body)\n      .then((json) => {\n        var data = json;\n        Object.json1 = JSON.parse(data);\n        var items = Object.json1;\n        var products = [];\n        items.map(\n          ({\n            id,\n            name,\n            images,\n            price,\n            categories,\n            description,\n            stock_quantity,\n          }) => {\n            var img;\n            images.map((data) => {\n              img = data.src;\n            });\n\n            const newItem = {\n              id: id,\n              title: name,\n              img: img,\n              price: parseInt(price),\n              company: \"nurumia\",\n              info: description,\n              inCart: null,\n              count: 1,\n              total: 1,\n              categories: categories,\n              stock: stock_quantity,\n            };\n\n            products.push(newItem); // Push the object\n            this.oldProducts = true;\n          }\n        );\n        this.setState({\n          ...{\n            isListLoaded: true,\n            products: products,\n          },\n        });\n      });\n  };\n\n  getSales2 = () => {\n    WooCommerce.getAsync(`products?on_sale=true`)\n      .then((res) => res.toJSON().body)\n      .then((json) => {\n        var data = json;\n        Object.json1 = JSON.parse(data);\n        var items = Object.json1;\n        var sales = [];\n        items.map(\n          ({ id, name, images, sale_price, categories, description }) => {\n            var img;\n\n            images.map((data) => {\n              img = data.src;\n            });\n            const newItem = {\n              id: id,\n              title: name,\n              img: img,\n              price: parseInt(sale_price),\n              company: \"nurumia\",\n              info: description,\n              inCart: false,\n              count: 1,\n              total: 1,\n              categories: categories,\n            };\n            sales.push(newItem); // Push the object\n          }\n        );\n\n        this.setState({\n          ...{\n            sales: sales,\n          },\n        });\n      });\n  };\n\n  getCategories = (parent, level) => {\n    return WooCommerce.getAsync(\n      `products/categories?hide_empty=false&per_page=30${parent}`\n    ).then((res) => {\n      if (res) {\n        var data = res.toJSON().body;\n        // console.log(data)\n        Object.json1 = JSON.parse(data);\n        var items = Object.json1;\n        var categories = [];\n\n        if (items[0]) {\n          if (items[0].id != undefined) {\n            pos = 0;\n\n            items.map(({ id, name, parent }) => {\n              const newCategory = {\n                id: id,\n                name: name,\n                parent: parent,\n                children: [],\n              };\n              const addr = {\n                id: id,\n                level: level,\n                position: pos,\n                name: name,\n              };\n\n              addresses.push(addr);\n              categories.push(newCategory); // Push the object\n\n              pos++;\n            });\n\n            return categories;\n          }\n        }\n      }\n    });\n  };\n\n  render() {\n    if (this.state.isTreeLoaded !== true) {\n      return (\n        <div>\n          <ProductContext.Provider\n            value={{\n              ...this.state,\n            }}\n          >\n            {\" \"}\n            {this.props.children}{\" \"}\n          </ProductContext.Provider>{\" \"}\n        </div>\n      );\n    }\n  }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer };\n\nexport function useProduct() {\n  return useContext(ProductContext);\n}\n"]},"metadata":{},"sourceType":"module"}