{"ast":null,"code":"import _regeneratorRuntime from \"/home/jarri/Desktop/projects/store/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jarri/Desktop/projects/store/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar wooConfig = require(\"./wooConfig\");\n\nvar WooCommerceAPI = require(\"woocommerce-api\");\n\nvar WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\"\n});\nvar TIMEOUT = 9000;\n\nvar removeString = function removeString(res) {\n  var newParraf = null;\n\n  if (res !== \"\") {\n    newParraf = res.replace(\"<p>\", \" \");\n    newParraf = newParraf.split(\"</p>\", 2);\n    newParraf = newParraf[0];\n  }\n\n  return newParraf;\n};\n\nvar getProducts = function getProducts() {\n  return WooCommerce.getAsync(\"products?per_page=30\").then(function (res) {\n    return res.toJSON().body;\n  }).then(function (json) {\n    var data = json;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    var products = [];\n    items.map(function (_ref) {\n      var id = _ref.id,\n          name = _ref.name,\n          images = _ref.images,\n          price = _ref.price,\n          categories = _ref.categories,\n          description = _ref.description,\n          stock_quantity = _ref.stock_quantity,\n          short_description = _ref.short_description,\n          sale_price = _ref.sale_price,\n          on_sale = _ref.on_sale,\n          tags = _ref.tags,\n          rating_count = _ref.rating_count,\n          average_rating = _ref.average_rating;\n      var img;\n      var newImages = [];\n      images.map(function (data) {\n        img = data.src;\n        return newImages.push(img);\n      });\n      var stringDescription = removeString(description);\n      var stringShortDescription = removeString(short_description);\n      var newItem = {\n        categories: categories,\n        category: \"vegetable\",\n        description: stringDescription,\n        discount: sale_price,\n        id: id,\n        name: name,\n        new: false,\n        pictures: newImages,\n        length: images.length,\n        price: price,\n        sale: on_sale,\n        salePrice: sale_price,\n        shortDetails: stringShortDescription,\n        stock: stock_quantity,\n        brand: tags,\n        colors: [\"yellow\", \"gray\", \"green\"],\n        size: [\"M\", \"L\", \"XL\"],\n        tags: [\"nike\", \"caprese\"],\n        rating_count: rating_count,\n        average_rating: average_rating,\n        variants: null\n      };\n      return products.push(newItem); // Push the object\n    });\n    return products;\n  }).catch(function (error) {\n    return error;\n  });\n};\n\nvar getCategoryTree =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var root, level;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            root = \"&parent=16\"; // <-- This is the Id of the product\n            //    category. Get it from getTheCategories\n\n            level = 1;\n            _context.next = 4;\n            return getTheCategories(root, level).then(function (res) {\n              console.log(res);\n              return res;\n            });\n\n          case 4:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function getCategoryTree() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getTheCategories = function getTheCategories(parent, level) {\n  return WooCommerce.getAsync(\"products/categories?hide_empty=false&per_page=100\").then(function (res) {\n    var data = res.toJSON().body;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    console.log(items);\n    return items;\n  });\n};\n\nvar postReview = function postReview(data) {\n  return WooCommerce.postAsync(\"products/reviews\", data).then(function (response) {}).catch(function (error) {\n    console.log(error.response.data);\n  });\n};\n\nvar getReview = function getReview(id) {\n  return WooCommerce.getAsync(\"products/reviews?product=\".concat(id)).then(function (res) {\n    var data = res.toJSON().body;\n    Object.json1 = JSON.parse(data);\n    var reviews = Object.json1;\n    return reviews;\n  }).catch(function (error) {\n    console.log(error.response.data);\n  });\n};\n\nexport default {\n  getProducts: getProducts,\n  getCategoryTree: getCategoryTree,\n  postReview: postReview,\n  getReview: getReview,\n  buyProducts: function buyProducts(payload, cb, timeout) {\n    return setTimeout(function () {\n      return cb();\n    }, timeout || TIMEOUT);\n  }\n};","map":{"version":3,"sources":["/home/jarri/Desktop/projects/store/frontEnd/src/api/shop.js"],"names":["wooConfig","require","WooCommerceAPI","WooCommerce","url","siteUrl","consumerKey","consumerSecret","wpAPI","version","TIMEOUT","removeString","res","newParraf","replace","split","getProducts","getAsync","then","toJSON","body","json","data","Object","json1","JSON","parse","items","products","map","id","name","images","price","categories","description","stock_quantity","short_description","sale_price","on_sale","tags","rating_count","average_rating","img","newImages","src","push","stringDescription","stringShortDescription","newItem","category","discount","new","pictures","length","sale","salePrice","shortDetails","stock","brand","colors","size","variants","catch","error","getCategoryTree","root","level","getTheCategories","console","log","parent","postReview","postAsync","response","getReview","reviews","buyProducts","payload","cb","timeout","setTimeout"],"mappings":"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","sourcesContent":["const wooConfig = require(\"./wooConfig\");\nconst WooCommerceAPI = require(\"woocommerce-api\");\n\nconst WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\",\n});\n\nconst TIMEOUT = 9000;\n\nconst removeString = (res) => {\n  var newParraf = null;\n  if (res !== \"\") {\n    newParraf = res.replace(`<p>`, \" \");\n    newParraf = newParraf.split(`</p>`, 2);\n    newParraf = newParraf[0];\n  }\n\n  return newParraf;\n};\n\nconst getProducts = () => {\n  return WooCommerce.getAsync(`products?per_page=30`)\n    .then((res) => {\n      return res.toJSON().body;\n    })\n    .then((json) => {\n      var data = json;\n      Object.json1 = JSON.parse(data);\n      var items = Object.json1;\n      var products = [];\n      items.map(\n        ({\n          id,\n          name,\n          images,\n          price,\n          categories,\n          description,\n          stock_quantity,\n          short_description,\n          sale_price,\n          on_sale,\n          tags,\n          rating_count,\n          average_rating,\n        }) => {\n          var img;\n          var newImages = [];\n          images.map((data) => {\n            img = data.src;\n            return newImages.push(img);\n          });\n\n          var stringDescription = removeString(description);\n          var stringShortDescription = removeString(short_description);\n\n          const newItem = {\n            categories: categories,\n            category: \"vegetable\",\n            description: stringDescription,\n            discount: sale_price,\n            id: id,\n            name: name,\n            new: false,\n            pictures: newImages,\n            length: images.length,\n            price: price,\n            sale: on_sale,\n            salePrice: sale_price,\n            shortDetails: stringShortDescription,\n            stock: stock_quantity,\n            brand: tags,\n            colors: [\"yellow\", \"gray\", \"green\"],\n            size: [\"M\", \"L\", \"XL\"],\n            tags: [\"nike\", \"caprese\"],\n            rating_count: rating_count,\n            average_rating: average_rating,\n            variants: null,\n          };\n\n          return products.push(newItem); // Push the object\n        }\n      );\n      return products;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nconst getCategoryTree = async () => {\n  var root = `&parent=16`; // <-- This is the Id of the product\n  //    category. Get it from getTheCategories\n\n  var level = 1;\n\n  return await getTheCategories(root, level).then((res) => {\n    console.log(res);\n    return res;\n  });\n};\n\nconst getTheCategories = (parent, level) => {\n  return WooCommerce.getAsync(\n    `products/categories?hide_empty=false&per_page=100`\n  ).then((res) => {\n    var data = res.toJSON().body;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    console.log(items);\n    return items;\n  });\n};\n\nconst postReview = (data) => {\n  return WooCommerce.postAsync(\"products/reviews\", data)\n    .then((response) => {})\n    .catch((error) => {\n      console.log(error.response.data);\n    });\n};\n\nconst getReview = (id) => {\n  return WooCommerce.getAsync(`products/reviews?product=${id}`)\n    .then((res) => {\n      var data = res.toJSON().body;\n      Object.json1 = JSON.parse(data);\n      var reviews = Object.json1;\n      return reviews;\n    })\n    .catch((error) => {\n      console.log(error.response.data);\n    });\n};\n\nexport default {\n  getProducts,\n  getCategoryTree,\n  postReview,\n  getReview,\n  buyProducts: (payload, cb, timeout) =>\n    setTimeout(() => cb(), timeout || TIMEOUT),\n};\n"]},"metadata":{},"sourceType":"module"}