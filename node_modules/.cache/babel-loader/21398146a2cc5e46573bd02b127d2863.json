{"ast":null,"code":"import _defineProperty from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/src/components/products/common/details-top-tabs.jsx\";\nimport React, { Component } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.scss';\nimport { connect } from \"react-redux\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { postReview, getReviews } from \"../../../actions/indexO\";\nimport { Link } from 'react-router-dom';\nvar initialState = {\n  stars: [\"on\", \"on\", \"on\", \"on\", \"on\"],\n  id: \"\",\n  name: \"\",\n  title: \"\",\n  review: \"\",\n  email: \"\",\n  reviews: [],\n  reviewsToLoad: null\n};\n\nvar DetailsTopTabs = /*#__PURE__*/function (_Component) {\n  _inherits(DetailsTopTabs, _Component);\n\n  function DetailsTopTabs(props) {\n    var _this;\n\n    _classCallCheck(this, DetailsTopTabs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DetailsTopTabs).call(this, props));\n\n    _this.fetchRating = function (n, flag) {\n      if (flag) {\n        n--;\n      }\n\n      var stars = [];\n\n      for (var i = 0; i <= 4; i++) {\n        if (n >= i) {\n          stars.push(\"on\");\n        } else {\n          stars.push(\"off\");\n        }\n      }\n\n      if (flag) {\n        return stars;\n      } else {\n        _this.setState(function () {\n          return {\n            stars: stars\n          };\n        });\n      }\n    };\n\n    _this.handleChange = function (e) {\n      var value = e.currentTarget.value;\n      var name = e.currentTarget.name;\n\n      if (e.currentTarget.name) {\n        _this.setState(function () {\n          return _defineProperty({}, name, value);\n        });\n      } else return null;\n    };\n\n    _this.handleRateClick = function (e) {\n      _this.fetchRating(e.currentTarget.id);\n    };\n\n    _this.state = {\n      stars: [\"on\", \"on\", \"on\", \"on\", \"on\"],\n      id: \"\",\n      name: \"\",\n      title: \"\",\n      review: \"\",\n      email: \"\",\n      reviews: [],\n      reviewsToLoad: null\n    };\n    _this.validator = new SimpleReactValidator();\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.Reviews = _this.Reviews.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(DetailsTopTabs, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (this.props.item.id) {\n        this.setState(function () {\n          return {\n            id: _this2.props.item.id\n          };\n        });\n      }\n\n      this.props.getReviews(this.props.item.id);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      console.log(this.props.state.reviews);\n\n      if (this.props.state.reviews.reviews[0] === this.state.id) {\n        if (this.props.state.reviews.reviews[0].product_id === this.state.id) {\n          this.setState(function () {\n            return {\n              reviewsToLoad: true\n            };\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      console.log(this.props);\n      console.log(this.state);\n      console.log(this.props.item.id);\n\n      if (this.props.item.id !== this.state.id) {\n        this.setState(function () {\n          return {\n            initialState: initialState\n          };\n        });\n        this.props.getReviews(this.props.item.id);\n      }\n\n      console.log(this.state);\n    }\n  }, {\n    key: \"removeString\",\n    value: function removeString(res) {\n      var newParraf = res.replace(\"<p>\", \" \");\n      newParraf = newParraf.replace(\"</p>\", \" \");\n      return newParraf;\n    }\n  }, {\n    key: \"fetchDate\",\n    value: function fetchDate(res) {\n      var str = res.split(\"T\");\n      return str[0];\n    }\n  }, {\n    key: \"Reviews\",\n    value: function Reviews() {\n      var _this3 = this;\n\n      var reviews = this.props.state.reviews.reviews;\n      return reviews.map(function (r, i) {\n        var stars = _this3.fetchRating(r.rating, \"flag\");\n\n        var review = _this3.removeString(r.review);\n\n        var dateCreated = _this3.fetchDate(r.date_created);\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          className: \"review-div\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-12 review-stars\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }\n        }, stars.map(function (s, i) {\n          return /*#__PURE__*/React.createElement(\"i\", {\n            key: i,\n            id: i,\n            className: \"fa fa-star   \".concat(s),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 50\n            }\n          });\n        })), dateCreated), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"review\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }\n        }, review), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"review-author\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }\n        }, \".. by \", r.reviewer)));\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      var _this$state = this.state,\n          id = _this$state.id,\n          name = _this$state.name,\n          title = _this$state.title,\n          review = _this$state.review,\n          email = _this$state.email,\n          stars = _this$state.stars;\n      var starsCounter = 0;\n      stars.map(function (s) {\n        if (s === \"on\") {\n          starsCounter++;\n        }\n      });\n      var data = {\n        product_id: id,\n        review: review,\n        reviewer: name,\n        reviewer_email: email,\n        rating: starsCounter\n      };\n      this.props.postReview(data);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"tab-product m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Tabs, {\n        className: \"tab-content nav-material\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TabList, {\n        className: \"nav nav-tabs nav-material\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Tab, {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-link \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icofont icofont-man-in-glasses\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 66\n        }\n      }), \"Details\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"material-border\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Tab, {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icofont icofont-contacts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 41\n        }\n      }), \"Video\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"material-border\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Tab, {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-link active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icofont icofont-contacts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 41\n        }\n      }), \"Write Review\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"material-border\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Tab, {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-link active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icofont icofont-contacts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 41\n        }\n      }), \"Reviews\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"material-border\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(TabPanel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }\n      }, this.props.description ? this.props.description : /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mt-4 p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 84\n        }\n      }, \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\")), /*#__PURE__*/React.createElement(TabPanel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-4 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"embed-responsive embed-responsive-16by9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"iframe\", {\n        src: \"https://www.youtube.com/embed/BUWzX78Ye_8\",\n        allow: \"autoplay; encrypted-media\",\n        allowFullScreen: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 41\n        }\n      })))), /*#__PURE__*/React.createElement(TabPanel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"theme-form mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 49\n        }\n      }, \"Rating\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body ml-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 49\n        }\n      }, this.state.stars.map(function (s, i) {\n        return /*#__PURE__*/React.createElement(\"i\", {\n          key: i,\n          id: i,\n          className: \"fa fa-star my-rating  \".concat(s),\n          onClick: _this4.handleRateClick,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 85\n          }\n        });\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 45\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"name\",\n        placeholder: \"Enter Your name\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 45\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"email\",\n        placeholder: \"Enter Your Email\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 45\n        }\n      }, \"Review Title\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"title\",\n        placeholder: \"Enter your Review Subjects\",\n        name: \"title\",\n        value: this.state.title,\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 45\n        }\n      }, \"Review \"), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"form-control\",\n        placeholder: \"Write Your Testimonial Here\",\n        id: \"review\",\n        name: \"review\",\n        value: this.state.review,\n        onChange: this.handleChange,\n        required: true,\n        rows: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-solid\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 45\n        }\n      }, \"Submit Your Review\"))))), /*#__PURE__*/React.createElement(TabPanel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 29\n        }\n      }, !this.state.reviewsToLoad ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mt-4 p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 62\n        }\n      }, \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\") : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"reviews-canvas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 40\n        }\n      }, /*#__PURE__*/React.createElement(this.Reviews, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 72\n        }\n      })))))));\n    }\n  }]);\n\n  return DetailsTopTabs;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state\n  };\n};\n\nexport default connect(mapStateToProps, {\n  postReview: postReview,\n  getReviews: getReviews\n})(DetailsTopTabs);","map":{"version":3,"sources":["/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/template-store1/src/components/products/common/details-top-tabs.jsx"],"names":["React","Component","Tab","Tabs","TabList","TabPanel","connect","SimpleReactValidator","postReview","getReviews","Link","initialState","stars","id","name","title","review","email","reviews","reviewsToLoad","DetailsTopTabs","props","fetchRating","n","flag","i","push","setState","handleChange","e","value","currentTarget","handleRateClick","state","validator","handleSubmit","bind","Reviews","item","console","log","product_id","res","newParraf","replace","str","split","map","r","rating","removeString","dateCreated","fetchDate","date_created","s","reviewer","event","preventDefault","starsCounter","data","reviewer_email","description","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.scss';\nimport { connect } from \"react-redux\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport { postReview, getReviews } from \"../../../actions/indexO\";\n\nimport { Link } from 'react-router-dom'\nconst initialState = { stars: [\"on\", \"on\", \"on\", \"on\", \"on\"], id: \"\", name: \"\", title: \"\", review: \"\", email: \"\", reviews: [], reviewsToLoad: null }\n\nclass DetailsTopTabs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            stars: [\"on\", \"on\", \"on\", \"on\", \"on\"], id: \"\", name: \"\", title: \"\", review: \"\", email: \"\", reviews: [], reviewsToLoad: null\n        };\n        this.validator = new SimpleReactValidator();\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.Reviews = this.Reviews.bind(this)\n    }\n\n    componentWillMount() {\n        if (this.props.item.id) {\n            this.setState(() => {\n                return { id: this.props.item.id }\n            })\n        }\n        this.props.getReviews(this.props.item.id)\n    }\n\n\n\n    componentWillReceiveProps() {\n        console.log(this.props.state.reviews)\n        if (this.props.state.reviews.reviews[0] === this.state.id) {\n            if (this.props.state.reviews.reviews[0].product_id === this.state.id) {\n                this.setState(() => { return { reviewsToLoad: true } })\n\n\n            }\n        }\n    }\n\n    componentWillUpdate() {\n        console.log(this.props)\n        console.log(this.state)\n        console.log(this.props.item.id)\n        if (this.props.item.id !== this.state.id) {\n            this.setState(() => {\n                return { initialState }\n            })\n            this.props.getReviews(this.props.item.id)\n        }\n        console.log(this.state)\n    }\n\n    removeString(res) {\n        var newParraf = res.replace(`<p>`, \" \")\n        newParraf = newParraf.replace(`</p>`, \" \")\n        return newParraf\n    }\n\n    fetchDate(res) {\n        var str = res.split(\"T\")\n        return str[0]\n\n    }\n\n    Reviews() {\n        var reviews = this.props.state.reviews.reviews;\n        return reviews.map((r, i) => {\n            const stars = this.fetchRating(r.rating, \"flag\")\n            var review = this.removeString(r.review)\n            var dateCreated = this.fetchDate(r.date_created)\n            return (\n                <div key={i} className=\"review-div\">\n                    <div>\n                        <div className=\"col-md-12 review-stars\">\n                            {stars.map((s, i) => <i key={i} id={i} className={`fa fa-star   ${s}`} ></i>)}\n                        </div>\n                        {dateCreated}\n                    </div>\n\n                    <div className=\"review\">\n                        <h5 >{review}</h5>\n                        <p className=\"review-author\">.. by {r.reviewer}</p>\n                    </div>\n                </div>\n            )\n        })\n    }\n\n\n    fetchRating = (n, flag) => {\n        if (flag) {\n            n--\n        }\n        var stars = [];\n        for (var i = 0; i <= 4; i++) {\n            if (n >= i) {\n                stars.push(\"on\")\n            } else {\n                stars.push(\"off\")\n            }\n        } if (flag) {\n            return stars\n        } else {\n\n            this.setState(() => { return { stars: stars } })\n        }\n    }\n\n\n\n    handleChange = (e) => {\n        var value = e.currentTarget.value;\n        const name = e.currentTarget.name;\n        if (e.currentTarget.name) {\n            this.setState(() => {\n                return { [name]: value };\n            });\n        } else return null;\n    };\n\n    handleRateClick = (e) => {\n        this.fetchRating(e.currentTarget.id)\n    }\n\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const {\n            id, name, title, review, email, stars\n        } = this.state;\n        var starsCounter = 0;\n        stars.map(s => {\n            if (s === \"on\") {\n                starsCounter++\n            }\n        })\n\n        const data = {\n            product_id: id,\n            review: review,\n            reviewer: name,\n            reviewer_email: email,\n            rating: starsCounter\n        };\n        this.props.postReview(data);\n\n    }\n\n    render() {\n\n        return (\n            <section className=\"tab-product m-0\">\n                <div className=\"row\">\n                    <div className=\"col-sm-12 col-lg-12\">\n                        <Tabs className=\"tab-content nav-material\">\n                            <TabList className=\"nav nav-tabs nav-material\">\n\n                                <Tab className=\"nav-item\">\n                                    <span className=\"nav-link \" ><i className=\"icofont icofont-man-in-glasses\"></i>Details</span>\n                                    <div className=\"material-border\"></div>\n                                </Tab>\n                                <Tab className=\"nav-item\">\n                                    <span className=\"nav-link\" >\n                                        <i className=\"icofont icofont-contacts\"></i>Video</span>\n                                    <div className=\"material-border\"></div>\n                                </Tab>\n                                <Tab className=\"nav-item\">\n                                    <span className=\"nav-link active\" >\n                                        <i className=\"icofont icofont-contacts\"></i>Write Review</span>\n                                    <div className=\"material-border\"></div>\n                                </Tab>\n                                <Tab className=\"nav-item\">\n                                    <span className=\"nav-link active\" >\n                                        <i className=\"icofont icofont-contacts\"></i>Reviews</span>\n                                    <div className=\"material-border\"></div>\n                                </Tab>\n                            </TabList>\n                            <TabPanel>\n                                {this.props.description ? this.props.description : <p className=\"mt-4 p-0\">\n                                    Lorem Ipsum is simply dummy text of the printing and\n                                    typesetting industry. Lorem Ipsum has been the industry's\n                                    standard dummy text ever since the 1500s, when an unknown\n                                    printer took a galley of type and scrambled it to make a\n                                    type specimen book. It has survived not only five centuries,\n                                    but also the leap into electronic typesetting, remaining\n                                    essentially unchanged. It was popularised in the 1960s with\n                                    the release of Letraset sheets containing Lorem Ipsum\n                                    passages, and more recently with desktop publishing software\n                                    like Aldus PageMaker including versions of Lorem Ipsum.\n                                </p>}\n                            </TabPanel>\n                            <TabPanel>\n                                <div className=\"mt-4 text-center\">\n                                    <div className=\"embed-responsive embed-responsive-16by9\">\n                                        <iframe\n                                            src=\"https://www.youtube.com/embed/BUWzX78Ye_8\"\n                                            allow=\"autoplay; encrypted-media\"\n                                            allowFullScreen>\n                                        </iframe>\n                                    </div>\n                                </div>\n                            </TabPanel>\n                            <TabPanel>\n                                <form className=\"theme-form mt-4\" >\n                                    <div className=\"form-row\">\n                                        <div className=\"col-md-12 \">\n                                            <div className=\"media m-0\">\n                                                <label>Rating</label>\n                                                <div className=\"media-body ml-3\">\n                                                    {this.state.stars.map((s, i) => <i key={i} id={i} className={`fa fa-star my-rating  ${s}`} onClick={this.handleRateClick} ></i>)}\n\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"name\">Name</label>\n                                            <input type=\"text\"\n                                                className=\"form-control\"\n                                                id=\"name\"\n                                                placeholder=\"Enter Your name\"\n                                                name=\"name\"\n                                                value={this.state.name}\n                                                onChange={this.handleChange}\n                                                required />\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"email\">Email</label>\n                                            <input type=\"text\"\n                                                className=\"form-control\"\n                                                id=\"email\"\n                                                placeholder=\"Enter Your Email\"\n                                                name=\"email\"\n                                                value={this.state.email}\n                                                onChange={this.handleChange}\n                                                required />\n                                        </div>\n                                        <div className=\"col-md-12\">\n                                            <label htmlFor=\"review\">Review Title</label>\n                                            <input type=\"text\"\n                                                className=\"form-control\"\n                                                id=\"title\"\n                                                placeholder=\"Enter your Review Subjects\"\n                                                name=\"title\"\n                                                value={this.state.title}\n                                                onChange={this.handleChange}\n                                                required />\n                                        </div>\n                                        <div className=\"col-md-12\">\n                                            <label htmlFor=\"review\">Review </label>\n                                            <textarea\n                                                className=\"form-control\"\n                                                placeholder=\"Write Your Testimonial Here\"\n                                                id=\"review\"\n                                                name=\"review\"\n                                                value={this.state.review}\n                                                onChange={this.handleChange}\n                                                required\n                                                rows=\"6\"  ></textarea>\n                                        </div>\n                                        <div className=\"col-md-12\">\n                                            <button className=\"btn btn-solid\" onClick={this.handleSubmit} >Submit Your Review</button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </TabPanel>\n                            <TabPanel>\n                                {!this.state.reviewsToLoad ? <p className=\"mt-4 p-0\">\n                                    Lorem Ipsum is simply dummy text of the printing and\n                                    typesetting industry. Lorem Ipsum has been the industry's\n                                    standard dummy text ever since the 1500s, when an unknown\n                                    printer took a galley of type and scrambled it to make a\n                                    type specimen book. It has survived not only five centuries,\n                                    but also the leap into electronic typesetting, remaining\n                                    essentially unchanged. It was popularised in the 1960s with\n                                    the release of Letraset sheets containing Lorem Ipsum\n                                    passages, and more recently with desktop publishing software\n                                    like Aldus PageMaker including versions of Lorem Ipsum.\n                                </p> : <div className=\"reviews-canvas\"><this.Reviews /></div>}\n                            </TabPanel>\n                        </Tabs>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    state,\n});\n\nexport default connect(mapStateToProps, {\n    postReview, getReviews\n})(DetailsTopTabs);\n"]},"metadata":{},"sourceType":"module"}