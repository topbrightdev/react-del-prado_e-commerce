{"ast":null,"code":"import _slicedToArray from \"/home/jarri/Desktop/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/home/jarri/Desktop/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/jarri/Desktop/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/jarri/Desktop/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this;\n\nimport React, { useState } from \"react\";\nimport { createContext, useContext } from \"react\";\nimport axios from \"axios\";\n\nvar wooConfig = require(\"./wooConfig\");\n\nvar WooCommerceAPI = require(\"woocommerce-api\");\n\nvar WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\"\n});\nvar targetUrl = \"https://grassrootemarket.com/wp-json/\";\nvar urlRegister = \"wp/v2/users/register\";\nvar urlJWT = \"jwt-auth/v1/token\";\nvar userURI = targetUrl + \"wp/v2/users/me\";\n\nvar login = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n    var userName, password, token, displayName, niceName, email;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            userName = user.name; //this is the nice_name\n\n            password = user.password;\n            email = null;\n            console.log(user);\n            _context.next = 6;\n            return axios.post(\"https://grassrootemarket.com/wp-json/jwt-auth/v1/token\", {\n              username: userName,\n              password: password\n            }).then(function (result) {\n              if (result.status === 200) {\n                token = result.data.token;\n                displayName = result.data.user_display_name;\n                niceName = result.data.user_nicename;\n                email = result.data.user_email;\n                var filledFields = null;\n                return fillCustomer(email).then(function (res) {\n                  if (res) {\n                    filledFields = _objectSpread({}, res, {\n                      name: displayName,\n                      email: email,\n                      token: token\n                    });\n                  }\n\n                  return filledFields;\n                });\n              } else {\n                alert(\"error\");\n              }\n            }).catch(function (e) {\n              alert(\"error\");\n            });\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function login(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar signup = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user) {\n    var _useState, _useState2, isCreated, setCreated, _useState3, _useState4, isError, setIsError, _useState5, _useState6, userName, setUserName, _useState7, _useState8, userMail, setUserMail, _useState9, _useState10, password, setUserPassword, _useState11, _useState12, password2, setUserPassword2, _useState13, _useState14, phone, setPhone, _useState15, _useState16, realname, setRealname, _useState17, _useState18, surname, setSurname, _useState19, _useState20, company, setCompany, _useState21, _useState22, street, setStreet, _useState23, _useState24, street2, setStreet2, _useState25, _useState26, postal, setPostal, _useState27, _useState28, city, setCity, _useState29, _useState30, province, setProvince, newCustomer, createUser, _createUser;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _createUser = function _createUser3() {\n              _createUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                var user;\n                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        user = JSON.stringify({\n                          username: userName,\n                          email: userMail,\n                          password: password\n                        });\n                        _context2.next = 3;\n                        return fetch(targetUrl + urlRegister, {\n                          method: \"POST\",\n                          headers: {\n                            \"Content-Type\": \"application/json\"\n                          },\n                          body: user\n                        }).catch(function (error) {\n                          console.log(\"There has been a problem with your fetch operation: \" + error.message);\n                        }).then(function (res) {\n                          if (res) {\n                            if (res.status) {\n                              if (res.status == \"200\") {\n                                setCreated(true);\n                              } else {\n                                alert(\"error\");\n                                setIsError(true); //setAuthTokens(\"error\");\n                              }\n                            }\n                          }\n\n                          return res.json();\n                        }).then(function (res) {\n                          // setAuthTokens(user);\n                          createCustomer(newCustomer);\n                          return user.token;\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n              return _createUser.apply(this, arguments);\n            };\n\n            createUser = function _createUser2() {\n              return _createUser.apply(this, arguments);\n            };\n\n            _useState = useState(false), _useState2 = _slicedToArray(_useState, 2), isCreated = _useState2[0], setCreated = _useState2[1];\n            _useState3 = useState(false), _useState4 = _slicedToArray(_useState3, 2), isError = _useState4[0], setIsError = _useState4[1];\n            _useState5 = useState(\"\"), _useState6 = _slicedToArray(_useState5, 2), userName = _useState6[0], setUserName = _useState6[1];\n            _useState7 = useState(\"\"), _useState8 = _slicedToArray(_useState7, 2), userMail = _useState8[0], setUserMail = _useState8[1];\n            _useState9 = useState(\"\"), _useState10 = _slicedToArray(_useState9, 2), password = _useState10[0], setUserPassword = _useState10[1];\n            _useState11 = useState(\"\"), _useState12 = _slicedToArray(_useState11, 2), password2 = _useState12[0], setUserPassword2 = _useState12[1];\n            _useState13 = useState(\"\"), _useState14 = _slicedToArray(_useState13, 2), phone = _useState14[0], setPhone = _useState14[1];\n            _useState15 = useState(\"\"), _useState16 = _slicedToArray(_useState15, 2), realname = _useState16[0], setRealname = _useState16[1];\n            _useState17 = useState(\"\"), _useState18 = _slicedToArray(_useState17, 2), surname = _useState18[0], setSurname = _useState18[1];\n            _useState19 = useState(\"\"), _useState20 = _slicedToArray(_useState19, 2), company = _useState20[0], setCompany = _useState20[1];\n            _useState21 = useState(\"\"), _useState22 = _slicedToArray(_useState21, 2), street = _useState22[0], setStreet = _useState22[1];\n            _useState23 = useState(\"\"), _useState24 = _slicedToArray(_useState23, 2), street2 = _useState24[0], setStreet2 = _useState24[1];\n            _useState25 = useState(\"\"), _useState26 = _slicedToArray(_useState25, 2), postal = _useState26[0], setPostal = _useState26[1];\n            _useState27 = useState(\"\"), _useState28 = _slicedToArray(_useState27, 2), city = _useState28[0], setCity = _useState28[1];\n            _useState29 = useState(\"\"), _useState30 = _slicedToArray(_useState29, 2), province = _useState30[0], setProvince = _useState30[1];\n            user = {\n              username: userName,\n              email: userMail,\n              password: password\n            };\n            newCustomer = {\n              email: userMail,\n              first_name: realname,\n              last_name: surname,\n              username: userName,\n              billing: {\n                first_name: realname,\n                last_name: surname,\n                company: company,\n                address_1: street,\n                address_2: street2,\n                city: city,\n                state: province,\n                postcode: postal,\n                country: \"Spain\",\n                email: userMail,\n                phone: phone\n              },\n              shipping: {\n                first_name: realname,\n                last_name: surname,\n                company: company,\n                address: street,\n                address2: street2,\n                city: city,\n                state: province,\n                cp: postal,\n                country: \"Spain\"\n              }\n            }; //var data = [user, shipping];\n\n          case 19:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function signup(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar fillCustomer = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(email) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return WooCommerce.getAsync(\"customers?email=\".concat(email)).then(function (response) {\n              if (response) {\n                if (response.body) {\n                  var res = JSON.parse(response.body);\n                  var user = res[0];\n                  var thisUser = {\n                    userId: user.id,\n                    company: user.billing.company,\n                    first_name: user.billing.first_name,\n                    lastName: user.billing.last_name,\n                    address: user.billing.address_1,\n                    address2: user.billing.address_2,\n                    city: user.billing.city,\n                    state: user.billing.state,\n                    cp: user.billing.postcode,\n                    country: user.billing.country,\n                    phone: user.billing.phone\n                  };\n                  return thisUser;\n                }\n              }\n            }).catch(function (error) {\n              console.log(error);\n            });\n\n          case 2:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function fillCustomer(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar createCustomer = function createCustomer(newCustomer) {\n  if (!_this.state.email) {\n    var data = {\n      user_display_name: newCustomer.username,\n      user_email: newCustomer.email\n    };\n\n    _this.receiveLogin(data);\n  }\n\n  _this.getCustomerId(newCustomer);\n};\n\nfunction updateAccount(_x4, _x5, _x6) {\n  return _updateAccount.apply(this, arguments);\n}\n\nfunction _updateAccount() {\n  _updateAccount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id, updatedUser, updatedShipping) {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            // First will check if user values must be modified : name /mail\n            // Check\n            console.log(id);\n            console.log(updatedUser);\n            console.log(updatedShipping);\n\n            if (!updatedUser) {\n              _context7.next = 6;\n              break;\n            }\n\n            _context7.next = 6;\n            return axios.post(\"https://grassrootemarket.com/wp-json/wp/v2/users/\".concat(id), {\n              username: updatedUser.userName,\n              mail: updatedUser.email\n            }).then(function (result) {\n              if (result.status === 200) {\n                console.log(result);\n              } else {\n                alert(\"error\");\n              }\n            }).catch(function (e) {//  setIsError(true);\n            });\n\n          case 6:\n            if (!updatedShipping) {\n              _context7.next = 9;\n              break;\n            }\n\n            _context7.next = 9;\n            return WooCommerce.putAsync(\"customers/\".concat(id), updatedShipping).then(function (response) {\n              var customer = JSON.parse(response.body);\n              console.log(customer);\n            }).catch(function (error) {});\n\n          case 9:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _updateAccount.apply(this, arguments);\n}\n\nfunction updateCustomer(_x7, _x8) {\n  return _updateCustomer.apply(this, arguments);\n}\n\nfunction _updateCustomer() {\n  _updateCustomer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id, newCustomer) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            console.log(id);\n            console.log(newCustomer);\n            _context8.next = 4;\n            return WooCommerce.putAsync(\"customers/\".concat(id), newCustomer).then(function (response) {\n              var customer = JSON.parse(response.body);\n              console.log(customer);\n            }).catch(function (error) {});\n\n          case 4:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _updateCustomer.apply(this, arguments);\n}\n\nvar getCustomerId = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(newCustomer) {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return WooCommerce.getAsync(\"customers?email=\".concat(newCustomer.email)).then(function (response) {\n              if (response) {\n                if (response.body) {\n                  var user = JSON.parse(response.body);\n                  var userId = user[0].id;\n\n                  _this.setState(function () {\n                    return _objectSpread({}, {\n                      userId: userId\n                    });\n                  });\n\n                  _this.updateCustomer(userId, newCustomer);\n                }\n              }\n            }).catch(function (error) {});\n\n          case 2:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getCustomerId(_x9) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar createOrder = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(ready, userOrder) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _this.fillOrder();\n\n            if (!ready) {\n              _context6.next = 4;\n              break;\n            }\n\n            _context6.next = 4;\n            return WooCommerce.postAsync(\"orders\", userOrder).then(function (response) {}).catch(function (error) {});\n\n          case 4:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function createOrder(_x10, _x11) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar receiveLogin = function receiveLogin(data) {\n  console.log(data);\n\n  _this.setState(function () {\n    return _objectSpread({}, {\n      user: data.user_display_name,\n      email: data.user_email\n    });\n  });\n\n  _this.fillCustomer(data.user_email); // Also must to retrieve from wooApi the rest of information\n  // about the logged user and populate its state\n\n};\n\nvar receiveLogout = function receiveLogout(data) {\n  _this.setState(function () {\n    return _objectSpread({}, {\n      user: null,\n      order: null,\n      name: null,\n      lastName: null,\n      email: null,\n      address: null,\n      address2: null,\n      city: null,\n      state: null,\n      cp: null,\n      country: null,\n      phone: null,\n      cart: null,\n      cartSubTotal: null,\n      cartTax: null,\n      total: null\n    });\n  }); // Also must to retrieve from wooApi the rest of information\n  // about the logged user and populate its state\n\n};\n\nvar receiveSignup = function receiveSignup(data) {\n  var user = data.user;\n  var ship = data.shipping;\n\n  _this.setState(function () {\n    return _objectSpread({}, {\n      name: user.user_display_name,\n      email: user.user_email,\n      phone: ship.phone,\n      address: ship.street,\n      address2: ship.address2,\n      city: ship.city,\n      state: ship.province,\n      cp: ship.postal,\n      country: ship.country\n    });\n  });\n};\n\nexport default {\n  login: login\n};","map":{"version":3,"sources":["/home/jarri/Desktop/projects-web/eCommerce/template-store1/src/api/user.js"],"names":["React","useState","createContext","useContext","axios","wooConfig","require","WooCommerceAPI","WooCommerce","url","siteUrl","consumerKey","consumerSecret","wpAPI","version","targetUrl","urlRegister","urlJWT","userURI","login","user","userName","name","password","email","console","log","post","username","then","result","status","token","data","displayName","user_display_name","niceName","user_nicename","user_email","filledFields","fillCustomer","res","alert","catch","e","signup","createUser","JSON","stringify","userMail","fetch","method","headers","body","error","message","setCreated","setIsError","json","createCustomer","newCustomer","isCreated","isError","setUserName","setUserMail","setUserPassword","password2","setUserPassword2","phone","setPhone","realname","setRealname","surname","setSurname","company","setCompany","street","setStreet","street2","setStreet2","postal","setPostal","city","setCity","province","setProvince","first_name","last_name","billing","address_1","address_2","state","postcode","country","shipping","address","address2","cp","getAsync","response","parse","thisUser","userId","id","lastName","receiveLogin","getCustomerId","updateAccount","updatedUser","updatedShipping","mail","putAsync","customer","updateCustomer","setState","createOrder","ready","userOrder","fillOrder","postAsync","receiveLogout","order","cart","cartSubTotal","cartTax","total","receiveSignup","ship"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport {createContext, useContext} from \"react\";\nimport axios from \"axios\";\n\nconst wooConfig = require(\"./wooConfig\");\nconst WooCommerceAPI = require(\"woocommerce-api\");\n\nconst WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\",\n});\n\nconst targetUrl = \"https://grassrootemarket.com/wp-json/\";\nconst urlRegister = \"wp/v2/users/register\";\nconst urlJWT = \"jwt-auth/v1/token\";\nconst userURI = targetUrl + \"wp/v2/users/me\";\n\nconst login = async (user) => {\n  var userName = user.name; //this is the nice_name\n  var password = user.password;\n  var token,\n    displayName,\n    niceName,\n    email = null;\n  console.log(user);\n  return await axios\n    .post(\"https://grassrootemarket.com/wp-json/jwt-auth/v1/token\", {\n      username: userName,\n      password: password,\n    })\n    .then((result) => {\n      if (result.status === 200) {\n        token = result.data.token;\n        displayName = result.data.user_display_name;\n        niceName = result.data.user_nicename;\n        email = result.data.user_email;\n        var filledFields = null;\n        return fillCustomer(email).then((res) => {\n          if (res) {\n            filledFields = {\n              ...res,\n              name: displayName,\n              email: email,\n              token: token,\n            };\n          }\n          return filledFields;\n        });\n      } else {\n        alert(\"error\");\n      }\n    })\n    .catch((e) => {\n      alert(\"error\");\n    });\n};\n\nconst signup = async (user) => {\n  const [isCreated, setCreated] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const [userMail, setUserMail] = useState(\"\");\n  const [password, setUserPassword] = useState(\"\");\n  const [password2, setUserPassword2] = useState(\"\");\n\n  const [phone, setPhone] = useState(\"\");\n  const [realname, setRealname] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [company, setCompany] = useState(\"\");\n  const [street, setStreet] = useState(\"\");\n  const [street2, setStreet2] = useState(\"\");\n  const [postal, setPostal] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [province, setProvince] = useState(\"\");\n\n  var user = {\n    username: userName,\n    email: userMail,\n    password: password,\n  };\n\n  const newCustomer = {\n    email: userMail,\n    first_name: realname,\n    last_name: surname,\n    username: userName,\n    billing: {\n      first_name: realname,\n      last_name: surname,\n      company: company,\n      address_1: street,\n      address_2: street2,\n      city: city,\n      state: province,\n      postcode: postal,\n      country: \"Spain\",\n      email: userMail,\n      phone: phone,\n    },\n    shipping: {\n      first_name: realname,\n      last_name: surname,\n      company: company,\n      address: street,\n      address2: street2,\n      city: city,\n      state: province,\n      cp: postal,\n      country: \"Spain\",\n    },\n  };\n\n  //var data = [user, shipping];\n\n  async function createUser() {\n    const user = JSON.stringify({\n      username: userName,\n      email: userMail,\n      password: password,\n    });\n\n    await fetch(targetUrl + urlRegister, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: user,\n    })\n      .catch(function(error) {\n        console.log(\n          \"There has been a problem with your fetch operation: \" + error.message\n        );\n      })\n      .then(function(res) {\n        if (res) {\n          if (res.status) {\n            if (res.status == \"200\") {\n              setCreated(true);\n            } else {\n              alert(\"error\");\n              setIsError(true);\n              //setAuthTokens(\"error\");\n            }\n          }\n        }\n        return res.json();\n      })\n      .then(function(res) {\n        // setAuthTokens(user);\n        createCustomer(newCustomer);\n        return user.token;\n      });\n  }\n};\n\nconst fillCustomer = async (email) => {\n  return await WooCommerce.getAsync(`customers?email=${email}`)\n    .then((response) => {\n      if (response) {\n        if (response.body) {\n          const res = JSON.parse(response.body);\n          const user = res[0];\n          var thisUser = {\n            userId: user.id,\n            company: user.billing.company,\n            first_name: user.billing.first_name,\n            lastName: user.billing.last_name,\n            address: user.billing.address_1,\n            address2: user.billing.address_2,\n            city: user.billing.city,\n            state: user.billing.state,\n            cp: user.billing.postcode,\n            country: user.billing.country,\n            phone: user.billing.phone,\n          };\n          return thisUser;\n        }\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nconst createCustomer = (newCustomer) => {\n  if (!this.state.email) {\n    const data = {\n      user_display_name: newCustomer.username,\n      user_email: newCustomer.email,\n    };\n    this.receiveLogin(data);\n  }\n  this.getCustomerId(newCustomer);\n};\n\nasync function updateAccount(id, updatedUser, updatedShipping) {\n  // First will check if user values must be modified : name /mail\n  // Check\n  console.log(id);\n  console.log(updatedUser);\n  console.log(updatedShipping);\n\n  if (updatedUser) {\n    await axios\n      .post(`https://grassrootemarket.com/wp-json/wp/v2/users/${id}`, {\n        username: updatedUser.userName,\n        mail: updatedUser.email,\n      })\n      .then((result) => {\n        if (result.status === 200) {\n          console.log(result);\n        } else {\n          alert(\"error\");\n        }\n      })\n      .catch((e) => {\n        //  setIsError(true);\n      });\n  }\n\n  if (updatedShipping) {\n    await WooCommerce.putAsync(`customers/${id}`, updatedShipping)\n      .then((response) => {\n        const customer = JSON.parse(response.body);\n        console.log(customer);\n      })\n      .catch((error) => {});\n  }\n}\n\nasync function updateCustomer(id, newCustomer) {\n  console.log(id);\n  console.log(newCustomer);\n  await WooCommerce.putAsync(`customers/${id}`, newCustomer)\n    .then((response) => {\n      const customer = JSON.parse(response.body);\n      console.log(customer);\n    })\n    .catch((error) => {});\n}\n\nconst getCustomerId = async (newCustomer) => {\n  await WooCommerce.getAsync(`customers?email=${newCustomer.email}`)\n    .then((response) => {\n      if (response) {\n        if (response.body) {\n          const user = JSON.parse(response.body);\n          const userId = user[0].id;\n          this.setState(() => {\n            return {\n              ...{\n                userId: userId,\n              },\n            };\n          });\n          this.updateCustomer(userId, newCustomer);\n        }\n      }\n    })\n    .catch((error) => {});\n};\n\nconst createOrder = async (ready, userOrder) => {\n  this.fillOrder();\n  if (ready) {\n    await WooCommerce.postAsync(\"orders\", userOrder)\n      .then((response) => {})\n      .catch((error) => {});\n  }\n};\n\nconst receiveLogin = (data) => {\n  console.log(data);\n  this.setState(() => {\n    return {\n      ...{\n        user: data.user_display_name,\n        email: data.user_email,\n      },\n    };\n  });\n  this.fillCustomer(data.user_email);\n  // Also must to retrieve from wooApi the rest of information\n  // about the logged user and populate its state\n};\n\nconst receiveLogout = (data) => {\n  this.setState(() => {\n    return {\n      ...{\n        user: null,\n        order: null,\n        name: null,\n        lastName: null,\n        email: null,\n        address: null,\n        address2: null,\n        city: null,\n        state: null,\n        cp: null,\n        country: null,\n        phone: null,\n        cart: null,\n        cartSubTotal: null,\n        cartTax: null,\n        total: null,\n      },\n    };\n  });\n  // Also must to retrieve from wooApi the rest of information\n  // about the logged user and populate its state\n};\n\nconst receiveSignup = (data) => {\n  const user = data.user;\n  const ship = data.shipping;\n  this.setState(() => {\n    return {\n      ...{\n        name: user.user_display_name,\n        email: user.user_email,\n        phone: ship.phone,\n        address: ship.street,\n        address2: ship.address2,\n        city: ship.city,\n        state: ship.province,\n        cp: ship.postal,\n        country: ship.country,\n      },\n    };\n  });\n};\n\nexport default {login};\n"]},"metadata":{},"sourceType":"module"}