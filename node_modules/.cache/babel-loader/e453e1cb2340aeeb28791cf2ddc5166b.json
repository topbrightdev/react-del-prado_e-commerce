{"ast":null,"code":"import _toConsumableArray from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/store/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/store/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_FROM_CART, INCREMENT_QTY, DECREMENT_QTY, CLEAR_CART } from \"../constants/ActionTypes\";\nexport default function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cart: []\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      console.log(action);\n      var productId = action.product.id;\n      console.log(action.product.id);\n\n      if (state.cart.findIndex(function (product) {\n        return product.id === productId;\n      }) !== -1) {\n        var cart = state.cart.reduce(function (cartAcc, product) {\n          if (product.id === productId) {\n            var thisPrice = parseFloat(product.price).toFixed(2);\n            thisPrice = thisPrice * 100;\n            var thisTotal = thisPrice * (product.qty + 1); //thisTotal = (thisTotal * 100) / 100;\n\n            thisTotal.toFixed(2);\n            console.log(thisTotal);\n            cartAcc.push(_objectSpread({}, product, {\n              qty: product.qty + 1,\n              sum: thisTotal\n            })); // Increment qty\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n        return _objectSpread({}, state, {\n          cart: cart\n        });\n      } else {\n        var product = action.product;\n        console.log(product.price);\n        var thisPrice = parseFloat(product.price).toFixed(2);\n        console.log(thisPrice);\n        thisPrice = thisPrice * 100;\n        console.log(thisPrice);\n        var thisTotal = thisPrice * action.qty;\n        console.log(thisTotal);\n        thisTotal = thisTotal / 100;\n        thisTotal.toFixed(2);\n        console.log(thisTotal);\n        return _objectSpread({}, state, {\n          cart: _toConsumableArray(state.cart).concat([_objectSpread({}, action.product, {\n            qty: action.qty,\n            sum: thisTotal\n          })])\n        });\n      }\n\n    case DECREMENT_QTY:\n      if (state.cart.findIndex(function (product) {\n        return product.id === action.productId;\n      }) !== -1) {\n        var _cart = state.cart.reduce(function (cartAcc, product) {\n          if (product.id === action.productId && product.qty > 1) {\n            var thisPrice = parseFloat(product.price).toFixed(2);\n            thisPrice = thisPrice * 100;\n            var thisTotal = thisPrice * (product.qty - 1);\n            thisTotal = thisTotal / 100;\n            thisTotal.toFixed(2); //thisTotal = (thisTotal * 100) / 100;\n\n            console.log(thisTotal);\n            cartAcc.push(_objectSpread({}, product, {\n              qty: product.qty - 1,\n              sum: thisTotal\n            })); // Decrement qty\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n\n        return _objectSpread({}, state, {\n          cart: _cart\n        });\n      } else {\n        var product = action.product;\n        var thisPrice = parseFloat(product.price).toFixed(2);\n        thisPrice = thisPrice * 100;\n        var thisTotal = thisPrice * (product.qty - 1);\n        thisTotal = thisTotal / 100;\n        thisTotal.toFixed(2);\n        console.log(thisTotal);\n        return _objectSpread({}, state, {\n          cart: _toConsumableArray(state.cart).concat([_objectSpread({}, action.product, {\n            qty: action.qty,\n            sum: thisTotal\n          })])\n        });\n      }\n\n    case CLEAR_CART:\n      return {\n        cart: []\n      };\n\n    case REMOVE_FROM_CART:\n      return {\n        cart: state.cart.filter(function (item) {\n          return item.id !== action.product_id.id;\n        })\n      };\n\n    default:\n  }\n\n  return state;\n}","map":{"version":3,"sources":["/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/store/frontEnd/src/reducers/cart.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","INCREMENT_QTY","DECREMENT_QTY","CLEAR_CART","cartReducer","state","cart","action","type","console","log","productId","product","id","findIndex","reduce","cartAcc","thisPrice","parseFloat","price","toFixed","thisTotal","qty","push","sum","filter","item","product_id"],"mappings":"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","sourcesContent":["import {\r\n  ADD_TO_CART,\r\n  REMOVE_FROM_CART,\r\n  INCREMENT_QTY,\r\n  DECREMENT_QTY,\r\n  CLEAR_CART,\r\n} from \"../constants/ActionTypes\";\r\n\r\nexport default function cartReducer(\r\n  state = {\r\n    cart: [],\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      console.log(action);\r\n      const productId = action.product.id;\r\n      console.log(action.product.id);\r\n      if (state.cart.findIndex((product) => product.id === productId) !== -1) {\r\n        const cart = state.cart.reduce((cartAcc, product) => {\r\n          if (product.id === productId) {\r\n            var thisPrice = parseFloat(product.price).toFixed(2);\r\n            thisPrice = thisPrice * 100;\r\n            var thisTotal = thisPrice * (product.qty + 1);\r\n            //thisTotal = (thisTotal * 100) / 100;\r\n            thisTotal.toFixed(2);\r\n\r\n            console.log(thisTotal);\r\n\r\n            cartAcc.push({\r\n              ...product,\r\n              qty: product.qty + 1,\r\n              sum: thisTotal,\r\n            }); // Increment qty\r\n          } else {\r\n            cartAcc.push(product);\r\n          }\r\n\r\n          return cartAcc;\r\n        }, []);\r\n        return { ...state, cart };\r\n      } else {\r\n        var product = action.product;\r\n        console.log(product.price);\r\n        var thisPrice = parseFloat(product.price).toFixed(2);\r\n        console.log(thisPrice);\r\n\r\n        thisPrice = thisPrice * 100;\r\n        console.log(thisPrice);\r\n\r\n        var thisTotal = thisPrice * action.qty;\r\n        console.log(thisTotal);\r\n\r\n        thisTotal = thisTotal / 100;\r\n        thisTotal.toFixed(2);\r\n\r\n        console.log(thisTotal);\r\n\r\n        return {\r\n          ...state,\r\n          cart: [\r\n            ...state.cart,\r\n            {\r\n              ...action.product,\r\n              qty: action.qty,\r\n              sum: thisTotal,\r\n            },\r\n          ],\r\n        };\r\n      }\r\n\r\n    case DECREMENT_QTY:\r\n      if (\r\n        state.cart.findIndex((product) => product.id === action.productId) !==\r\n        -1\r\n      ) {\r\n        const cart = state.cart.reduce((cartAcc, product) => {\r\n          if (product.id === action.productId && product.qty > 1) {\r\n            var thisPrice = parseFloat(product.price).toFixed(2);\r\n            thisPrice = thisPrice * 100;\r\n            var thisTotal = thisPrice * (product.qty - 1);\r\n            thisTotal = thisTotal / 100;\r\n            thisTotal.toFixed(2);\r\n\r\n            //thisTotal = (thisTotal * 100) / 100;\r\n            console.log(thisTotal);\r\n\r\n            cartAcc.push({\r\n              ...product,\r\n              qty: product.qty - 1,\r\n              sum: thisTotal,\r\n            }); // Decrement qty\r\n          } else {\r\n            cartAcc.push(product);\r\n          }\r\n\r\n          return cartAcc;\r\n        }, []);\r\n\r\n        return { ...state, cart };\r\n      } else {\r\n        var product = action.product;\r\n        var thisPrice = parseFloat(product.price).toFixed(2);\r\n        thisPrice = thisPrice * 100;\r\n        var thisTotal = thisPrice * (product.qty - 1);\r\n        thisTotal = thisTotal / 100;\r\n        thisTotal.toFixed(2);\r\n        console.log(thisTotal);\r\n\r\n        return {\r\n          ...state,\r\n          cart: [\r\n            ...state.cart,\r\n            {\r\n              ...action.product,\r\n              qty: action.qty,\r\n              sum: thisTotal,\r\n            },\r\n          ],\r\n        };\r\n      }\r\n    case CLEAR_CART:\r\n      return {\r\n        cart: [],\r\n      };\r\n\r\n    case REMOVE_FROM_CART:\r\n      return {\r\n        cart: state.cart.filter((item) => item.id !== action.product_id.id),\r\n      };\r\n\r\n    default:\r\n  }\r\n  return state;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}