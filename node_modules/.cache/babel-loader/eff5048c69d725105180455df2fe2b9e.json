{"ast":null,"code":"import _regeneratorRuntime from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/store/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/store/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar wooConfig = require(\"./wooConfig\");\n\nvar WooCommerceAPI = require(\"woocommerce-api\");\n\nvar WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\"\n});\nvar TIMEOUT = 9000;\nvar pos = 1;\nvar isTreeLoaded = false;\nvar done = false;\nvar tree = {\n  id: 19,\n  name: \"products\",\n  parent: \"none\",\n  children: []\n};\nvar addresses = [{\n  id: 19,\n  level: 0,\n  position: 0,\n  name: \"Product Categories\"\n}];\n\nvar removeString = function removeString(res) {\n  var newParraf = null;\n\n  if (res !== \"\") {\n    newParraf = res.replace(\"<p>\", \" \");\n    newParraf = newParraf.split(\"</p>\", 2);\n    newParraf = newParraf[0];\n  }\n\n  return newParraf;\n};\n\nvar getProducts = function getProducts() {\n  return WooCommerce.getAsync(\"products?per_page=30\").then(function (res) {\n    return res.toJSON().body;\n  }).then(function (json) {\n    var data = json;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    var products = [];\n    console.log(items);\n    items.map(function (_ref) {\n      var id = _ref.id,\n          name = _ref.name,\n          images = _ref.images,\n          price = _ref.price,\n          categories = _ref.categories,\n          description = _ref.description,\n          stock_quantity = _ref.stock_quantity,\n          short_description = _ref.short_description,\n          sale_price = _ref.sale_price,\n          on_sale = _ref.on_sale,\n          tags = _ref.tags,\n          rating_count = _ref.rating_count;\n      var img;\n      var newImages = [];\n      images.map(function (data) {\n        img = data.src;\n        newImages.push(img);\n      });\n      var thisPrice = parseFloat(price).toFixed(2);\n      var stringDescription = removeString(description);\n      var stringShortDescription = removeString(short_description);\n      var newItem = {\n        categories: categories,\n        category: \"vegetable\",\n        description: stringDescription,\n        discount: sale_price,\n        id: id,\n        name: name,\n        new: false,\n        pictures: newImages,\n        length: images.length,\n        price: price,\n        sale: on_sale,\n        salePrice: sale_price,\n        shortDetails: stringShortDescription,\n        stock: stock_quantity,\n        brand: tags,\n        colors: [\"yellow\", \"gray\", \"green\"],\n        size: [\"M\", \"L\", \"XL\"],\n        tags: [\"nike\", \"caprese\"],\n        rating: rating_count,\n        variants: null\n      };\n      products.push(newItem); // Push the object\n    });\n    return products;\n  }).catch(function (error) {\n    return error;\n  });\n};\n\nvar getCategoryTree =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var root, Str, level;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            root = \"&parent=19\";\n            Str = \"&parent=\";\n            level = 1;\n            _context.next = 5;\n            return getTheCategories(root, level).then(function (res) {\n              return res;\n            });\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function getCategoryTree() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getTheCategories = function getTheCategories(parent, level) {\n  return WooCommerce.getAsync(\"products/categories?hide_empty=false&per_page=100\").then(function (res) {\n    var data = res.toJSON().body;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    return items;\n  });\n};\n\nvar postReview = function postReview(data) {\n  return WooCommerce.postAsync(\"products/reviews\", data).then(function (response) {}).catch(function (error) {\n    console.log(error.response.data);\n  });\n};\n\nvar getReview = function getReview(id) {\n  return WooCommerce.getAsync(\"products/reviews?product=\".concat(id)).then(function (res) {\n    var data = res.toJSON().body;\n    Object.json1 = JSON.parse(data);\n    var reviews = Object.json1;\n    return reviews;\n  }).catch(function (error) {\n    console.log(error.response.data);\n  });\n};\n\nexport default {\n  getProducts: getProducts,\n  getCategoryTree: getCategoryTree,\n  postReview: postReview,\n  getReview: getReview,\n  buyProducts: function buyProducts(payload, cb, timeout) {\n    return setTimeout(function () {\n      return cb();\n    }, timeout || TIMEOUT);\n  }\n};","map":{"version":3,"sources":["/home/jarri/Desktop/lenovo2020/projects-web/eCommerce/store/frontEnd/src/api/shop.js"],"names":["wooConfig","require","WooCommerceAPI","WooCommerce","url","siteUrl","consumerKey","consumerSecret","wpAPI","version","TIMEOUT","pos","isTreeLoaded","done","tree","id","name","parent","children","addresses","level","position","removeString","res","newParraf","replace","split","getProducts","getAsync","then","toJSON","body","json","data","Object","json1","JSON","parse","items","products","console","log","map","images","price","categories","description","stock_quantity","short_description","sale_price","on_sale","tags","rating_count","img","newImages","src","push","thisPrice","parseFloat","toFixed","stringDescription","stringShortDescription","newItem","category","discount","new","pictures","length","sale","salePrice","shortDetails","stock","brand","colors","size","rating","variants","catch","error","getCategoryTree","root","Str","getTheCategories","postReview","postAsync","response","getReview","reviews","buyProducts","payload","cb","timeout","setTimeout"],"mappings":"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","sourcesContent":["const wooConfig = require(\"./wooConfig\");\nconst WooCommerceAPI = require(\"woocommerce-api\");\n\nconst WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\",\n});\n\nconst TIMEOUT = 9000;\n\nvar pos = 1;\nvar isTreeLoaded = false;\nvar done = false;\n\nvar tree = {\n  id: 19,\n  name: \"products\",\n  parent: \"none\",\n  children: [],\n};\n\nvar addresses = [\n  {\n    id: 19,\n    level: 0,\n    position: 0,\n    name: \"Product Categories\",\n  },\n];\n\nconst removeString = (res) => {\n  var newParraf = null;\n  if (res !== \"\") {\n    newParraf = res.replace(`<p>`, \" \");\n    newParraf = newParraf.split(`</p>`, 2);\n    newParraf = newParraf[0];\n  }\n\n  return newParraf;\n};\n\nconst getProducts = () => {\n  return WooCommerce.getAsync(`products?per_page=30`)\n    .then((res) => {\n      return res.toJSON().body;\n    })\n    .then((json) => {\n      var data = json;\n      Object.json1 = JSON.parse(data);\n      var items = Object.json1;\n      var products = [];\n      console.log(items);\n      items.map(\n        ({\n          id,\n          name,\n          images,\n          price,\n          categories,\n          description,\n          stock_quantity,\n          short_description,\n          sale_price,\n          on_sale,\n          tags,\n          rating_count,\n        }) => {\n          var img;\n          var newImages = [];\n          images.map((data) => {\n            img = data.src;\n            newImages.push(img);\n          });\n          var thisPrice = parseFloat(price).toFixed(2);\n\n          var stringDescription = removeString(description);\n          var stringShortDescription = removeString(short_description);\n\n          const newItem = {\n            categories: categories,\n            category: \"vegetable\",\n            description: stringDescription,\n            discount: sale_price,\n            id: id,\n            name: name,\n            new: false,\n            pictures: newImages,\n            length: images.length,\n            price: price,\n            sale: on_sale,\n            salePrice: sale_price,\n            shortDetails: stringShortDescription,\n            stock: stock_quantity,\n            brand: tags,\n            colors: [\"yellow\", \"gray\", \"green\"],\n            size: [\"M\", \"L\", \"XL\"],\n            tags: [\"nike\", \"caprese\"],\n            rating: rating_count,\n            variants: null,\n          };\n\n          products.push(newItem); // Push the object\n        }\n      );\n      return products;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nconst getCategoryTree = async () => {\n  var root = `&parent=19`;\n  const Str = `&parent=`;\n  var level = 1;\n\n  return await getTheCategories(root, level).then((res) => {\n    return res;\n  });\n};\n\nconst getTheCategories = (parent, level) => {\n  return WooCommerce.getAsync(\n    `products/categories?hide_empty=false&per_page=100`\n  ).then((res) => {\n    var data = res.toJSON().body;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    return items;\n  });\n};\n\nconst postReview = (data) => {\n  return WooCommerce.postAsync(\"products/reviews\", data)\n    .then((response) => {})\n    .catch((error) => {\n      console.log(error.response.data);\n    });\n};\n\nconst getReview = (id) => {\n  return WooCommerce.getAsync(`products/reviews?product=${id}`)\n    .then((res) => {\n      var data = res.toJSON().body;\n      Object.json1 = JSON.parse(data);\n      var reviews = Object.json1;\n      return reviews;\n    })\n    .catch((error) => {\n      console.log(error.response.data);\n    });\n};\n\nexport default {\n  getProducts,\n  getCategoryTree,\n  postReview,\n  getReview,\n  buyProducts: (payload, cb, timeout) =>\n    setTimeout(() => cb(), timeout || TIMEOUT),\n};\n"]},"metadata":{},"sourceType":"module"}