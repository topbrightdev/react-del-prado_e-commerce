{"ast":null,"code":"import _regeneratorRuntime from \"/home/jarri/Desktop/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jarri/Desktop/projects-web/eCommerce/template-store1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { Component } from \"react\";\nimport { useContext } from \"react\";\nimport _products from \"./data.json\";\n\nvar wooConfig = require(\"./wooConfig\");\n\nvar WooCommerceAPI = require(\"woocommerce-api\");\n\nvar APP_API_URL = process.env.NODE_ENV === \"production\" ? process.env.REACT_APP_LIVE_STORE_URL : process.env.REACT_APP_LOCAL_STORE_URL;\nvar WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\"\n});\nvar ProductContext = React.createContext(); // Wordpress API\n\nexport var WP = \"\".concat(APP_API_URL, \"/wp-json/wp/v2\"); // WooCommerce API\n\nexport var WC = \"\".concat(APP_API_URL, \"/wp-json/wc/v3\"); // JWT API\n\nexport var AUTH = \"\".concat(APP_API_URL, \"/wp-json/jwt-auth/v1\");\n/* category: \"vegetable\"\ndescription: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\"\ndiscount: 10\nid: 49\nname: \"Cabbage\"\nnew: false\npictures: Array(4)\n0: \"/assets/images/vegetables/pro/2.jpg\"\n1: \"/assets/images/vegetables/pro/4.jpg\"\n2: \"/assets/images/vegetables/pro/1.jpg\"\n3: \"/assets/images/vegetables/pro/4.jpg\"\nlength: 4\n__proto__: Array(0)\nprice: 120\nsale: false\nsalePrice: 240\nshortDetails: \"Sed ut perspiciatis, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem,\"\nstock: 2 */\n\nvar TIMEOUT = 9000;\nvar __products = null;\nvar pos = 1;\nvar isTreeLoaded = false;\nvar tree = {\n  id: 19,\n  name: \"products\",\n  parent: \"none\",\n  children: []\n};\nvar addresses = [{\n  id: 19,\n  level: 0,\n  position: 0,\n  name: \"Product Categories\"\n}];\n\nvar getProducts = function getProducts() {\n  return WooCommerce.getAsync(\"products?per_page=30\").then(function (res) {\n    return res.toJSON().body;\n  }).then(function (json) {\n    var data = json;\n    Object.json1 = JSON.parse(data);\n    var items = Object.json1;\n    var products = [];\n    items.map(function (_ref) {\n      var id = _ref.id,\n          name = _ref.name,\n          images = _ref.images,\n          price = _ref.price,\n          categories = _ref.categories,\n          description = _ref.description,\n          stock_quantity = _ref.stock_quantity,\n          short_description = _ref.short_description,\n          sale_price = _ref.sale_price,\n          on_sale = _ref.on_sale,\n          tags = _ref.tags;\n      var img;\n      var newImages = [];\n      images.map(function (data) {\n        img = data.src;\n        newImages.push(img);\n      });\n      var newItem = {\n        categories: categories,\n        category: \"vegetable\",\n        description: description,\n        discount: \"10\",\n        id: id,\n        name: name,\n        new: false,\n        pictures: newImages,\n        length: images.length,\n        price: price,\n        sale: on_sale,\n        salePrice: sale_price,\n        shortDetails: short_description,\n        stock: stock_quantity,\n        brand: tags,\n        colors: [\"yellow\", \"gray\", \"green\"],\n        size: [\"M\", \"L\", \"XL\"],\n        tags: [\"nike\", \"caprese\"],\n        rating: 4,\n        variants: null\n      };\n      products.push(newItem); // Push the object\n    });\n    return products;\n  }).catch(function (error) {\n    return error;\n  });\n};\n\nvar getCategories = function getCategories(parent, level) {\n  return WooCommerce.getAsync(\"products/categories?hide_empty=false&per_page=100\".concat(parent)).then(function (res) {\n    if (res) {\n      var data = res.toJSON().body;\n      Object.json1 = JSON.parse(data);\n      var items = Object.json1;\n      var categories = [];\n\n      if (items[0]) {\n        if (items[0].id != undefined) {\n          pos = 0;\n          items.map(function (_ref2) {\n            var id = _ref2.id,\n                name = _ref2.name,\n                parent = _ref2.parent;\n            var newCategory = {\n              id: id,\n              name: name,\n              parent: parent,\n              children: []\n            };\n            var addr = {\n              id: id,\n              level: level,\n              position: pos,\n              name: name\n            };\n            addresses.push(addr);\n            categories.push(newCategory); // Push the object\n\n            pos++;\n          });\n          return categories;\n        }\n      }\n    } else {\n      return null;\n    }\n  }).catch(function (error) {\n    return error;\n  });\n};\n\nvar getCategoryTree = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var root, Str, level;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            root = \"&parent=19\";\n            Str = \"&parent=\";\n            level = 1;\n\n            if (!(isTreeLoaded === false)) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return getCategories(root, level).then(function (res) {\n              tree.children[0] = res;\n\n              if (res) {\n                level++;\n                var i = 0;\n                res.map( /*#__PURE__*/function () {\n                  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(m) {\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (!m) {\n                              _context2.next = 7;\n                              break;\n                            }\n\n                            if (!m.id) {\n                              _context2.next = 7;\n                              break;\n                            }\n\n                            root = Str + \"\".concat(m.id);\n                            console.log(root, level);\n                            _context2.next = 6;\n                            return getCategories(root, level).then(function (res) {\n                              if (res) {\n                                if (tree.children) {\n                                  if (tree.children[0]) {\n                                    if (tree.children[0][i]) {\n                                      if (tree.children[0][i].children) {\n                                        var arrayPos = 0;\n                                        addresses.map(function (addr) {\n                                          if (addr.id === m.id) {\n                                            arrayPos = addr.position;\n                                          }\n                                        });\n\n                                        if (!tree.children[0][arrayPos].children[0]) {\n                                          tree.children[0][arrayPos].children.push(res);\n                                        }\n\n                                        i++;\n                                      }\n                                    }\n                                  }\n                                }\n\n                                var extraLevel = level;\n                                extraLevel++;\n                                var j = 0;\n                                res.map( /*#__PURE__*/function () {\n                                  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(m) {\n                                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                                      while (1) {\n                                        switch (_context.prev = _context.next) {\n                                          case 0:\n                                            if (!m) {\n                                              _context.next = 6;\n                                              break;\n                                            }\n\n                                            if (m.id) root = Str + \"\".concat(m.id);\n                                            console.log(root, extraLevel);\n                                            _context.next = 5;\n                                            return getCategories(root, extraLevel).then(function (res) {\n                                              if (res) {\n                                                if (res[0]) {\n                                                  console.log(res);\n                                                  console.log(addresses);\n                                                  console.log(tree);\n                                                  var arrayPos2 = 0;\n                                                  addresses.map(function (addr) {\n                                                    if (addr.id === m.id) {\n                                                      console.log(addr.id);\n                                                      arrayPos2 = addr.position;\n                                                      console.log(tree.children[0][arrayPos].children[arrayPos2]);\n                                                    }\n\n                                                    if (!tree.children[0][arrayPos].children[0][arrayPos2].children[0]) {\n                                                      console.log(\"pushing\");\n                                                      tree.children[0][arrayPos].children[0][arrayPos2].children.push(res);\n                                                    }\n\n                                                    j++;\n                                                  });\n                                                }\n                                              }\n                                            });\n\n                                          case 5:\n                                            return _context.abrupt(\"return\", _context.sent);\n\n                                          case 6:\n                                          case \"end\":\n                                            return _context.stop();\n                                        }\n                                      }\n                                    }, _callee);\n                                  }));\n\n                                  return function (_x2) {\n                                    return _ref5.apply(this, arguments);\n                                  };\n                                }());\n                              }\n                            });\n\n                          case 6:\n                            return _context2.abrupt(\"return\", _context2.sent);\n\n                          case 7:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  return function (_x) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }());\n                isTreeLoaded = true;\n                tree = tree;\n                console.log(tree);\n                return tree;\n              }\n            }).catch(function (error) {\n              return error;\n            });\n\n          case 6:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getCategoryTree() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default {\n  getProducts: getProducts,\n  getCategoryTree: getCategoryTree,\n  buyProducts: function buyProducts(payload, cb, timeout) {\n    return setTimeout(function () {\n      return cb();\n    }, timeout || TIMEOUT);\n  }\n};","map":{"version":3,"sources":["/home/jarri/Desktop/projects-web/eCommerce/template-store1/src/api/shop.js"],"names":["React","Component","useContext","_products","wooConfig","require","WooCommerceAPI","APP_API_URL","process","env","NODE_ENV","REACT_APP_LIVE_STORE_URL","REACT_APP_LOCAL_STORE_URL","WooCommerce","url","siteUrl","consumerKey","consumerSecret","wpAPI","version","ProductContext","createContext","WP","WC","AUTH","TIMEOUT","__products","pos","isTreeLoaded","tree","id","name","parent","children","addresses","level","position","getProducts","getAsync","then","res","toJSON","body","json","data","Object","json1","JSON","parse","items","products","map","images","price","categories","description","stock_quantity","short_description","sale_price","on_sale","tags","img","newImages","src","push","newItem","category","discount","new","pictures","length","sale","salePrice","shortDetails","stock","brand","colors","size","rating","variants","catch","error","getCategories","undefined","newCategory","addr","getCategoryTree","root","Str","i","m","console","log","arrayPos","extraLevel","j","arrayPos2","buyProducts","payload","cb","timeout","setTimeout"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {useContext} from \"react\";\nimport _products from \"./data.json\";\n\nconst wooConfig = require(\"./wooConfig\");\nconst WooCommerceAPI = require(\"woocommerce-api\");\n\nconst APP_API_URL =\n  process.env.NODE_ENV === \"production\"\n    ? process.env.REACT_APP_LIVE_STORE_URL\n    : process.env.REACT_APP_LOCAL_STORE_URL;\n\nconst WooCommerce = new WooCommerceAPI({\n  url: wooConfig.siteUrl,\n  consumerKey: wooConfig.consumerKey,\n  consumerSecret: wooConfig.consumerSecret,\n  wpAPI: true,\n  version: \"wc/v3\",\n});\n\nconst ProductContext = React.createContext();\n// Wordpress API\nexport const WP = `${APP_API_URL}/wp-json/wp/v2`;\n// WooCommerce API\nexport const WC = `${APP_API_URL}/wp-json/wc/v3`;\n// JWT API\nexport const AUTH = `${APP_API_URL}/wp-json/jwt-auth/v1`;\n/* category: \"vegetable\"\ndescription: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\"\ndiscount: 10\nid: 49\nname: \"Cabbage\"\nnew: false\npictures: Array(4)\n0: \"/assets/images/vegetables/pro/2.jpg\"\n1: \"/assets/images/vegetables/pro/4.jpg\"\n2: \"/assets/images/vegetables/pro/1.jpg\"\n3: \"/assets/images/vegetables/pro/4.jpg\"\nlength: 4\n__proto__: Array(0)\nprice: 120\nsale: false\nsalePrice: 240\nshortDetails: \"Sed ut perspiciatis, unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam eaque ipsa, quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem,\"\nstock: 2 */\n\nconst TIMEOUT = 9000;\nvar __products = null;\n\nvar pos = 1;\nvar isTreeLoaded = false;\n\nvar tree = {\n  id: 19,\n  name: \"products\",\n  parent: \"none\",\n  children: [],\n};\n\nvar addresses = [\n  {\n    id: 19,\n    level: 0,\n    position: 0,\n    name: \"Product Categories\",\n  },\n];\n\nconst getProducts = () => {\n  return WooCommerce.getAsync(`products?per_page=30`)\n    .then((res) => res.toJSON().body)\n    .then((json) => {\n      var data = json;\n      Object.json1 = JSON.parse(data);\n      var items = Object.json1;\n      var products = [];\n      items.map(\n        ({\n          id,\n          name,\n          images,\n          price,\n          categories,\n          description,\n          stock_quantity,\n          short_description,\n          sale_price,\n          on_sale,\n          tags,\n        }) => {\n          var img;\n          var newImages = [];\n          images.map((data) => {\n            img = data.src;\n            newImages.push(img);\n          });\n\n          const newItem = {\n            categories: categories,\n            category: \"vegetable\",\n            description: description,\n            discount: \"10\",\n            id: id,\n            name: name,\n            new: false,\n            pictures: newImages,\n            length: images.length,\n            price: price,\n            sale: on_sale,\n            salePrice: sale_price,\n            shortDetails: short_description,\n            stock: stock_quantity,\n            brand: tags,\n            colors: [\"yellow\", \"gray\", \"green\"],\n            size: [\"M\", \"L\", \"XL\"],\n            tags: [\"nike\", \"caprese\"],\n            rating: 4,\n            variants: null,\n          };\n\n          products.push(newItem); // Push the object\n        }\n      );\n      return products;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nconst getCategories = (parent, level) => {\n  return WooCommerce.getAsync(\n    `products/categories?hide_empty=false&per_page=100${parent}`\n  )\n    .then((res) => {\n      if (res) {\n        var data = res.toJSON().body;\n        Object.json1 = JSON.parse(data);\n        var items = Object.json1;\n\n        var categories = [];\n\n        if (items[0]) {\n          if (items[0].id != undefined) {\n            pos = 0;\n\n            items.map(({id, name, parent}) => {\n              const newCategory = {\n                id: id,\n                name: name,\n                parent: parent,\n                children: [],\n              };\n              const addr = {\n                id: id,\n                level: level,\n                position: pos,\n                name: name,\n              };\n              addresses.push(addr);\n              categories.push(newCategory); // Push the object\n\n              pos++;\n            });\n            return categories;\n          }\n        }\n      } else {\n        return null;\n      }\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nconst getCategoryTree = async () => {\n  var root = `&parent=19`;\n  const Str = `&parent=`;\n  var level = 1;\n\n  if (isTreeLoaded === false) {\n    return await getCategories(root, level)\n      .then((res) => {\n        tree.children[0] = res;\n        if (res) {\n          level++;\n          var i = 0;\n\n          res.map(async (m) => {\n            // With m.id I request and what I get goes into\n            // m.children\n            if (m) {\n              if (m.id) {\n                root = Str + `${m.id}`;\n                console.log(root, level);\n                return await getCategories(root, level).then((res) => {\n                  if (res) {\n                    if (tree.children) {\n                      if (tree.children[0]) {\n                        if (tree.children[0][i]) {\n                          if (tree.children[0][i].children) {\n                            var arrayPos = 0;\n                            addresses.map((addr) => {\n                              if (addr.id === m.id) {\n                                arrayPos = addr.position;\n                              }\n                            });\n\n                            if (!tree.children[0][arrayPos].children[0]) {\n                              tree.children[0][arrayPos].children.push(res);\n                            }\n\n                            i++;\n                          }\n                        }\n                      }\n                    }\n                    let extraLevel = level;\n                    extraLevel++;\n                    var j = 0;\n                    res.map(async (m) => {\n                      if (m) {\n                        if (m.id) root = Str + `${m.id}`;\n                        console.log(root, extraLevel);\n                        return await getCategories(root, extraLevel).then(\n                          (res) => {\n                            if (res) {\n                              if (res[0]) {\n                                console.log(res);\n                                console.log(addresses);\n                                console.log(tree);\n                                var arrayPos2 = 0;\n                                addresses.map((addr) => {\n                                  if (addr.id === m.id) {\n                                    console.log(addr.id);\n                                    arrayPos2 = addr.position;\n                                    console.log(\n                                      tree.children[0][arrayPos].children[\n                                        arrayPos2\n                                      ]\n                                    );\n                                  }\n\n                                  if (\n                                    !tree.children[0][arrayPos].children[0][\n                                      arrayPos2\n                                    ].children[0]\n                                  ) {\n                                    console.log(\"pushing\");\n                                    tree.children[0][arrayPos].children[0][\n                                      arrayPos2\n                                    ].children.push(res);\n                                  }\n                                  j++;\n                                });\n                              }\n                            }\n                          }\n                        );\n                      }\n                    });\n                  }\n                });\n              }\n            }\n          });\n          isTreeLoaded = true;\n          tree = tree;\n          console.log(tree);\n          return tree;\n        }\n      })\n      .catch((error) => {\n        return error;\n      });\n  }\n};\n\nexport default {\n  getProducts,\n  getCategoryTree,\n  buyProducts: (payload, cb, timeout) =>\n    setTimeout(() => cb(), timeout || TIMEOUT),\n};\n"]},"metadata":{},"sourceType":"module"}